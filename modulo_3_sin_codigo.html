
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Módulo 3: Visualización de datos interactivos &#8212; Visualización de datos</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=6c7211e7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'modulo_3_sin_codigo';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.jpg" class="logo__image only-light" alt="Visualización de datos - Home"/>
    <script>document.write(`<img src="_static/logo.jpg" class="logo__image only-dark" alt="Visualización de datos - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Visualización de datos con Python
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="modulo_1.html"><strong>Módulo 1: Introducción a la ciencia de datos con Python</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_2.html"><strong>Módulo 2: Estructuración y manipulación de datos con Python</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_3.html"><strong>Módulo 3: Visualización de datos interactivos</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="modulo_4.html"><strong>Modulo 4: Introducción a Streamlit</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fmodulo_3_sin_codigo.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/modulo_3_sin_codigo.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Módulo 3: Visualización de datos interactivos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-faltantes-y-atipicos"><strong>Tratamiento de datos faltantes y atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminacion-de-datos-faltantes"><strong>Eliminación de datos faltantes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-faltantes"><strong>Imputación de datos faltantes</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-categoricos"><strong>Datos categóricos</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-numericos"><strong>Datos numéricos</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-atipicos"><strong>Tratamiento de datos atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-valores-atipicos"><strong>Detección de valores atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-valores-atipicos-mediante-el-rango-intercuantil-iqr"><strong>Detección de valores atípicos mediante el rango intercuantil (IQR)</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento"><strong>Tratamiento</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminacion-de-datos-atipicos"><strong>Eliminación de datos atípicos</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-atipicos"><strong>Imputación de datos atípicos</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-interactiva"><strong>Visualización interactiva</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aspecto-claves-de-las-visualizaciones-interactivas"><strong>Aspecto claves de las visualizaciones interactivas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preparacion-de-nuestro-dataset"><strong>Preparación de nuestro dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creacion-del-grafico-estatico-con-visualizacion-interactiva"><strong>Creación del gráfico estático con visualización interactiva</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anadiendo-la-herramienta-hover"><strong>Añadiendo la herramienta Hover</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anadiendo-un-slicer-al-grafico-estatico"><strong>Añadiendo un slicer al gráfico estático</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-a-traves-de-capas"><strong>Visualización de datos a través de capas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcionalidad-hover-y-tooltip"><strong>Funcionalidad Hover y Tooltip</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-a-traves-de-multiples-parcelas"><strong>Selección a través de múltiples parcelas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-de-los-valores-de-una-variable-categorica"><strong>Selección de los valores de una variable categórica</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-de-zoom-en-un-mapa-de-calor-estatico"><strong>Función de zoom en un mapa de calor estático</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dinamica-de-un-grafico-de-barras-y-un-mapa-de-calor"><strong>Dinámica de un gráfico de barras y un mapa de calor</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-interactiva-de-mapas-con-datos-geograficos"><strong>Visualización interactiva de mapas con datos geográficos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creacion-de-un-mapa-coropletico"><strong>Creación de un mapa coroplético</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ajuste-de-un-mapa-coropletico-mundial"><strong>Ajuste de un mapa coroplético mundial</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anadiendo-animacion-a-un-mapa-coropletico"><strong>Añadiendo animación a un mapa coroplético</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mapas-coropleticos-con-graph-objects"><strong>Mapas coropléticos con <code class="docutils literal notranslate"><span class="pre">graph_objects</span></code></strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-un-grafico-de-gispersion-en-un-mapa-geografico"><strong>Construcción de un gráfico de gispersión en un mapa geográfico</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-un-grafico-de-burbujas-en-un-mapa-geografico"><strong>Construcción de un gráfico de burbujas en un mapa geográfico</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-un-grafico-de-burbujas-con-animacion-del-crecimiento-de-usuarios-de-internet"><strong>Construcción de un gráfico de burbujas con animación del crecimiento de usuarios de internet</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-graficos-de-lineas-en-un-mapa-geografico"><strong>Construcción de gráficos de líneas en un mapa geográfico</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="modulo-3-visualizacion-de-datos-interactivos">
<h1><strong>Módulo 3: Visualización de datos interactivos</strong><a class="headerlink" href="#modulo-3-visualizacion-de-datos-interactivos" title="Link to this heading">#</a></h1>
<section id="tratamiento-de-datos-faltantes-y-atipicos">
<h2><strong>Tratamiento de datos faltantes y atípicos</strong><a class="headerlink" href="#tratamiento-de-datos-faltantes-y-atipicos" title="Link to this heading">#</a></h2>
<p>Este conjunto de datos contiene información relacionada con los <strong>empleos de profesionales de datos</strong>, recopilada durante varios años. Cada fila representa un empleo único y proporciona detalles sobre el puesto, nivel de experiencia, modalidad de trabajo, ubicación del empleado, y otros factores relevantes para el contexto laboral y el salario recibido. Este conjunto de datos es útil para analizar tendencias en el mercado laboral de la ciencia de datos, permitiendo comparaciones entre diferentes tipos de empleos, niveles de experiencia, y ubicaciones geográficas.</p>
<p><strong>Descripción de las columnas</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Columna</strong></p></th>
<th class="head"><p><strong>Descripción</strong></p></th>
<th class="head"><p><strong>Tipo de dato</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Working_Year</strong></p></td>
<td><p>Año en que se obtuvieron los datos sobre el empleo. Esto puede ser útil para observar tendencias a lo largo del tiempo.</p></td>
<td><p>Float</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Designation</strong></p></td>
<td><p>Título del puesto del profesional de datos. Ejemplos comunes incluyen “Data Scientist”, “Data Engineer”, etc.</p></td>
<td><p>Cadena</p></td>
</tr>
<tr class="row-even"><td><p><strong>Experience</strong></p></td>
<td><p>Nivel de experiencia del empleado en el puesto, categorizado como “Medio”, “Senior”, etc. Esto ayuda a segmentar los trabajos según la experiencia necesaria.</p></td>
<td><p>Cadena</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Employment_Status</strong></p></td>
<td><p>Tipo de contrato laboral bajo el cual se emplea a la persona. Puede ser a tiempo completo (“FT”), medio tiempo (“PT”), entre otros. Es un indicador de la estabilidad y dedicación del empleo.</p></td>
<td><p>Cadena</p></td>
</tr>
<tr class="row-even"><td><p><strong>Employee_Location</strong></p></td>
<td><p>País donde se encuentra ubicado el empleado. Esto puede influir en el salario y las condiciones laborales, dada la variación entre mercados internacionales.</p></td>
<td><p>Cadena</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Company_Size</strong></p></td>
<td><p>Tamaño de la empresa en la que trabaja el profesional de datos. Las empresas se clasifican en “S” (Pequeña), “M” (Mediana), o “L” (Grande), y esto puede influir en las oportunidades de crecimiento, ambiente de trabajo, y remuneración.</p></td>
<td><p>Cadena</p></td>
</tr>
<tr class="row-even"><td><p><strong>Remote_Working_Ratio</strong></p></td>
<td><p>Porcentaje de tiempo que el empleado trabaja de manera remota. Un valor del 100% indicaría que el empleo es completamente remoto, mientras que un valor del 0% indicaría un empleo presencial.</p></td>
<td><p>Entero</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Salary_USD</strong></p></td>
<td><p>Salario anual del empleado expresado en dólares estadounidenses (USD). Este valor es útil para hacer comparaciones salariales entre empleos de diferentes ubicaciones y niveles de experiencia.</p></td>
<td><p>Float</p></td>
</tr>
</tbody>
</table>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Cargar el archivo CSV proporcionado</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">df</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Informacion del dataset</span>
 <span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copia del dataset</span>
<span class="n">df_va</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Revisar los datos faltantes en el conjunto de datos</span>
<span class="n">missing_values</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>

<span class="c1"># Calcular el porcentaje de valores faltantes</span>
<span class="n">missing_percentage</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>

<span class="c1"># Crear un DataFrame con el análisis de datos faltantes</span>
<span class="n">missing_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Valores Faltantes&#39;</span><span class="p">:</span> <span class="n">missing_values</span><span class="p">,</span>
    <span class="s1">&#39;Porcentaje Faltante (%)&#39;</span><span class="p">:</span> <span class="n">missing_percentage</span>
<span class="p">})</span>

<span class="n">missing_data</span>
</pre></div>
</div>
</div>
</div>
<section id="eliminacion-de-datos-faltantes">
<h3><strong>Eliminación de datos faltantes</strong><a class="headerlink" href="#eliminacion-de-datos-faltantes" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Coloquemos un umbral</span>
<span class="n">umbral</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>

<span class="c1"># Selecciona columnas con valores faltantes &lt;= umbral</span>
<span class="n">cols_to_drop</span> <span class="o">=</span> <span class="n">df_va</span> <span class="o">.</span><span class="n">columns</span><span class="p">[</span> <span class="c1"># TU CODIGO]</span>

<span class="c1"># Elimina filas con valores faltantes en las columnas seleccionadas</span>
<span class="n">df_va</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">cols_to_drop</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># informacion del dataset ajustado</span>
 <span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Revisar los datos faltantes en el conjunto de datos</span>
<span class="n">missing_values</span> <span class="o">=</span> <span class="n">df_va</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Calcular el porcentaje de valores faltantes</span>
<span class="n">missing_percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_va</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Crear un DataFrame con el análisis de datos faltantes</span>
<span class="n">missing_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Valores Faltantes&#39;</span><span class="p">:</span> <span class="n">missing_values</span><span class="p">,</span>
    <span class="s1">&#39;Porcentaje Faltante (%)&#39;</span><span class="p">:</span> <span class="n">missing_percentage</span>
<span class="p">})</span>

<span class="n">missing_data</span>
</pre></div>
</div>
</div>
</div>
<p>Otra forma para eliminar los datos faltantes es:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># copia del dataset</span>
<span class="n">df_2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># eliminar las filas con Nans</span>
<span class="n">df_2_new</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Revisar los datos faltantes en el conjunto de datos</span>
<span class="n">missing_values</span> <span class="o">=</span> <span class="n">df_2_new</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Calcular el porcentaje de valores faltantes</span>
<span class="n">missing_percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_2_new</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Crear un DataFrame con el análisis de datos faltantes</span>
<span class="n">missing_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Valores Faltantes&#39;</span><span class="p">:</span> <span class="n">missing_values</span><span class="p">,</span>
    <span class="s1">&#39;Porcentaje Faltante (%)&#39;</span><span class="p">:</span> <span class="n">missing_percentage</span>
<span class="p">})</span>

<span class="n">missing_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Valores Faltantes</th>
      <th>Porcentaje Faltante (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Working_Year</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Designation</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Experience</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Employment_Status</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Employee_Location</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Company_Size</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Remote_Working_Ratio</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Salary_USD</th>
      <td>0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="imputacion-de-datos-faltantes">
<h3><strong>Imputación de datos faltantes</strong><a class="headerlink" href="#imputacion-de-datos-faltantes" title="Link to this heading">#</a></h3>
<section id="datos-categoricos">
<h4><strong>Datos categóricos</strong><a class="headerlink" href="#datos-categoricos" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Usando la <strong>moda</strong>:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copia del dataset</span>
<span class="n">df_3</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Iterar sobre cada columna del DataFrame</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span>  <span class="c1"># TU CODIGO:</span>
    <span class="c1"># Comprobar si la columna es de tipo objeto (categórica)</span>
    <span class="k">if</span>  <span class="c1"># TU CODIGO:</span>
        <span class="c1"># Imputar los valores faltantes con la moda (categoría más frecuente)</span>
        <span class="n">df_3</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span> <span class="c1"># TU CODIGO, inplace=True)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Usando <strong>Asignación aleatoria</strong>:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copia del dataset</span>
<span class="n">df_4</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Iterar sobre cada columna de df_4</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_4</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="c1"># Comprobar si la columna es de tipo objeto (categórica)</span>
    <span class="k">if</span> <span class="n">df_4</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dtypes</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">:</span>
        <span class="c1"># Obtener las categorías no faltantes de la columna</span>
        <span class="n">categorias_no_nan</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>
        <span class="c1"># Reemplazar valores faltantes con una categoría seleccionada aleatoriamente</span>
        <span class="n">df_4</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_4</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">categorias_no_nan</span><span class="p">)</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="datos-numericos">
<h4><strong>Datos numéricos</strong><a class="headerlink" href="#datos-numericos" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Usando <strong>la media o el promedio</strong></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copia del dataset</span>
<span class="n">df_6</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Imputar los valores perdidos con imputación de medias</span>
<span class="n">df_6</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span> <span class="c1"># TU CODIGO, inplace=True)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Usando <strong>la mediana</strong></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copia del dataset</span>
<span class="n">df_7</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Imputar los valores perdidos con imputación de medias</span>
<span class="n">df_7</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span> <span class="c1"># TU CODIGO, inplace=True)</span>
</pre></div>
</div>
</div>
</div>
<p>Otra manera adecuada de imputar valores ausentes es mediante la clase <code class="docutils literal notranslate"><span class="pre">SimpleImputer</span></code> de <code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Libreria</span>
<span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">SimpleImputer</span>

<span class="c1"># Copia del dataset</span>
<span class="n">df_8</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Crear la instancia para imputar con la media</span>
<span class="n">imputer</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>

<span class="c1"># Imputar los valores faltantes</span>
<span class="n">df_8</span><span class="p">[[</span><span class="s1">&#39;Working_Year&#39;</span><span class="p">,</span><span class="s1">&#39;Salary_USD&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_8</span><span class="p">[[</span><span class="s1">&#39;Working_Year&#39;</span><span class="p">,</span><span class="s1">&#39;Salary_USD&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_8</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="tratamiento-de-datos-atipicos">
<h3><strong>Tratamiento de datos atípicos</strong><a class="headerlink" href="#tratamiento-de-datos-atipicos" title="Link to this heading">#</a></h3>
<p>Vamos a crear un gráfico de caja para comprobar si nuestro conjunto de datos contiene valores atípicos. Vamos a utilizar el conjunto de datos <code class="docutils literal notranslate"><span class="pre">gym.csv</span></code>, que contiene información sobre los clientes de un determinado gimnasio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
</pre></div>
</div>
</div>
</div>
<p>Guarda el archivo <code class="docutils literal notranslate"><span class="pre">gym.csv</span></code> en un DataFrame llamado <code class="docutils literal notranslate"><span class="pre">gym</span></code>, e imprime las cinco primeras filas del mismo para ver cómo son los datos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>
<span class="n">gym</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Como puede ver, nuestros datos tienen tres columnas: <code class="docutils literal notranslate"><span class="pre">age</span></code>, <code class="docutils literal notranslate"><span class="pre">weight</span></code>, <code class="docutils literal notranslate"><span class="pre">sex</span></code>. La columna sexo consta de tres valores discretos que corresponden a tres clases discretas: <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">es</span> <span class="pre">hombre</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">es</span> <span class="pre">mujer</span></code> y <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">es</span> <span class="pre">otro</span></code>.</p>
<p>Cree un gráfico de caja con el eje <span class="math notranslate nohighlight">\(x\)</span> como columna de sexo y el eje <span class="math notranslate nohighlight">\(y\)</span> como peso:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importar plotly</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>

<span class="c1"># Configurar el renderizador para notebook o Jupyter Book</span>
<span class="n">pio</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="s1">&#39;notebook&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<section id="deteccion-de-valores-atipicos">
<h4><strong>Detección de valores atípicos</strong><a class="headerlink" href="#deteccion-de-valores-atipicos" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista para almacenar los valores atípicos detectados</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Función para detectar valores atípicos usando la puntuación Z (Z-score)</span>
<span class="k">def</span> <span class="nf">detect_outliers_zscore</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">thres</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># Umbral de Z-score para considerar un valor como atípico</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># Calcular la media del conjunto de datos</span>
    <span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># Calcular la desviación estándar del conjunto de datos</span>
    
    <span class="c1"># Iterar a través de los valores del conjunto de datos</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">z_score</span> <span class="o">=</span>  <span class="c1"># TU CODIGO # Calcular la puntuación Z de cada valor</span>
        <span class="c1"># Si el valor absoluto del Z-score es mayor que el umbral, es un valor atípico</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">z_score</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">thres</span><span class="p">:</span>
            <span class="n">outliers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># Añadir el valor atípico a la lista de outliers</span>
    <span class="k">return</span> <span class="n">outliers</span>  <span class="c1"># Retornar la lista de valores atípicos</span>

<span class="c1"># Aplicar la función a la columna &#39;weight&#39; del DataFrame gym</span>
<span class="n">sample_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_zscore</span><span class="p">(</span><span class="n">gym</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>

<span class="c1"># Imprimir los valores atípicos detectados usando el método de Z-score en español</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valores atípicos detectados por el método de Z-score:&quot;</span><span class="p">,</span> <span class="n">sample_outliers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Valores atípicos detectados por el método de Z-score: [790]
</pre></div>
</div>
</div>
</div>
<section id="deteccion-de-valores-atipicos-mediante-el-rango-intercuantil-iqr">
<h5><strong>Detección de valores atípicos mediante el rango intercuantil (IQR)</strong><a class="headerlink" href="#deteccion-de-valores-atipicos-mediante-el-rango-intercuantil-iqr" title="Link to this heading">#</a></h5>
<p>Valores fuera de 1.5 veces el rango intercuartil son atípicos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lista para almacenar los valores atípicos detectados</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Función para detectar valores atípicos utilizando el rango intercuartil (IQR)</span>
<span class="k">def</span> <span class="nf">detect_outliers_iqr</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># Ordenar los datos de menor a mayor</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>  <span class="c1"># Calcular el primer cuartil (Q1)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>  <span class="c1"># Calcular el tercer cuartil (Q3)</span>
    <span class="n">IQR</span> <span class="o">=</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q1</span>  <span class="c1"># Calcular el rango intercuartil (IQR)</span>
    
    <span class="c1"># Definir los límites inferior y superior para identificar atípicos</span>
    <span class="n">lwr_bound</span> <span class="o">=</span>  <span class="c1"># TU CODIGO  # Límite inferior</span>
    <span class="n">upr_bound</span> <span class="o">=</span>  <span class="c1"># TU CODIGO  # Límite superior</span>
    
    <span class="c1"># Iterar a través de los datos para detectar valores fuera de los límites</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">lwr_bound</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">upr_bound</span><span class="p">:</span>  <span class="c1"># Si el valor está fuera de los límites, es un valor atípico</span>
            <span class="n">outliers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># Añadir el valor atípico a la lista</span>
    <span class="k">return</span> <span class="n">outliers</span>  <span class="c1"># Retornar la lista de valores atípicos</span>

<span class="c1"># Aplicar la función a la columna &#39;weight&#39; del DataFrame gym</span>
<span class="n">sample_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_iqr</span><span class="p">(</span><span class="n">gym</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>

<span class="c1"># Imprimir los valores atípicos detectados utilizando el método del rango intercuartil (IQR)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valores atípicos detectados por el método del IQR:&quot;</span><span class="p">,</span> <span class="n">sample_outliers</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="tratamiento">
<h4><strong>Tratamiento</strong><a class="headerlink" href="#tratamiento" title="Link to this heading">#</a></h4>
<section id="eliminacion-de-datos-atipicos">
<h5><strong>Eliminación de datos atípicos</strong><a class="headerlink" href="#eliminacion-de-datos-atipicos" title="Link to this heading">#</a></h5>
<p>Eliminaremos el dato que contiene el valor atípico del conjunto de datos utilizado previamente y, a continuación, visualizaremos el nuevo conjunto de datos mediante un gráfico de caja actualizado.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cargamos la data</span>
<span class="n">gym</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;_data/dataviz/gym.csv&#39;</span><span class="p">)</span>
<span class="n">gym</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Modificar el DataFrame del gimnasio para que solo esté formado por los casos <em>en los que el peso sea inferior a 104</em> e imprimir las cinco primeras filas:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym_clean</span> <span class="o">=</span>  <span class="c1"># TU CODIGO</span>
<span class="n">gym_clean</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym_clean</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Vamos a crear un boxplot para ver el aspecto de los datos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear el diagrama de violín</span>
<span class="n">fig</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Configurar fondo blanco y rejilla gris</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>  <span class="c1"># Fondo del gráfico</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>   <span class="c1"># Fondo de la parte de trazado</span>
    <span class="c1"># xaxis=dict(showgrid=True, gridcolor=&#39;lightgrey&#39;),  # Rejilla gris en el eje x</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">)</span>   <span class="c1"># Rejilla gris en el eje y</span>
<span class="p">)</span>

<span class="c1"># Actualizar el color de la caja a rojo y agregar línea del promedio más gruesa</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span>
    <span class="n">box</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">),</span>     <span class="c1"># Color de la caja (rojo)</span>
    <span class="n">meanline_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>          <span class="c1"># Mostrar línea del promedio</span>
    <span class="n">meanline</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkgreen&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Línea del promedio más gruesa y en rojo</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Otra forma de eliminar los datos atípicos es:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Función para eliminar outliers usando el rango intercuartílico (IQR)</span>
<span class="k">def</span> <span class="nf">remove_outliers_iqr</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">Q1</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
    <span class="n">Q3</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
    <span class="n">IQR</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
    <span class="c1"># Filtrar outliers</span>
    <span class="n">df_filtered</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="p">((</span><span class="n">df</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span><span class="p">)))</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">df_filtered</span>

<span class="c1"># Se aplica la función de filtro de outliers sin incluir la variable objetivo</span>
<span class="n">gym_cleaned</span> <span class="o">=</span> <span class="n">remove_outliers_iqr</span><span class="p">(</span><span class="n">gym</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]))</span>

<span class="c1"># Se vuelve a añadir la variable objetivo</span>
<span class="n">gym_cleaned</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gym</span><span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">gym_cleaned</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Forma de datos originales: &quot;</span><span class="p">,</span> <span class="n">gym</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Forma de datos sin outliers: &quot;</span><span class="p">,</span><span class="n">gym_cleaned</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="imputacion-de-datos-atipicos">
<h5><strong>Imputación de datos atípicos</strong><a class="headerlink" href="#imputacion-de-datos-atipicos" title="Link to this heading">#</a></h5>
<p>Veamos un diagrama de cajas y bigotes</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># , Diagrama de cajas y bigotes del weight </span>
<span class="n">fig</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Configurar fondo blanco y rejilla gris</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>  <span class="c1"># Fondo del gráfico</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>   <span class="c1"># Fondo de la parte de trazado</span>
    <span class="c1"># xaxis=dict(showgrid=True, gridcolor=&#39;lightgrey&#39;),  # Rejilla gris en el eje x</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">)</span>   <span class="c1"># Rejilla gris en el eje y</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Al eliminar el dato atpico pudimos ver que los datos no tienen comportamiento normal, por lo que el valor medio es sensible a valores atípicos, se aconseja sustituirlos por la mediana.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calcular la mediana de la columna &#39;weight&#39;</span>
<span class="n">mediana_weight</span> <span class="o">=</span> <span class="n">gym</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="c1"># Encontrar y reemplazar los valores atípicos</span>
<span class="n">Q1</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">Q3</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">IQR</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">limite_inferior</span> <span class="o">=</span> <span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>
<span class="n">limite_superior</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>

<span class="c1"># Copia de datos</span>
<span class="n">gym_cleaned_2</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Reemplazar los valores atípicos con la mediana</span>
<span class="n">gym_cleaned_2</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gym</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">mediana_weight</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">limite_inferior</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">limite_superior</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Veamos el diagrama de cajas y bigotes de weight según el sexo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig2</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Configurar fondo blanco y rejilla gris</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>  <span class="c1"># Fondo del gráfico</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>   <span class="c1"># Fondo de la parte de trazado</span>
    <span class="c1"># xaxis=dict(showgrid=True, gridcolor=&#39;lightgrey&#39;),  # Rejilla gris en el eje x</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">)</span>   <span class="c1"># Rejilla gris en el eje y</span>
<span class="p">)</span>

<span class="n">fig2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="visualizacion-interactiva">
<h2><strong>Visualización interactiva</strong><a class="headerlink" href="#visualizacion-interactiva" title="Link to this heading">#</a></h2>
<section id="aspecto-claves-de-las-visualizaciones-interactivas">
<h3><strong>Aspecto claves de las visualizaciones interactivas</strong><a class="headerlink" href="#aspecto-claves-de-las-visualizaciones-interactivas" title="Link to this heading">#</a></h3>
<p>El aspecto clave de las visualizaciones de datos interactivas es su capacidad de responder y adaptarse a las entradas del usuario en tiempo real o en intervalos muy cortos. A continuación, se exploran algunas de las principales entradas humanas, cómo se integran en las visualizaciones y el impacto que tienen en la comprensión de los datos:</p>
</section>
<section id="preparacion-de-nuestro-dataset">
<h3><strong>Preparación de nuestro dataset</strong><a class="headerlink" href="#preparacion-de-nuestro-dataset" title="Link to this heading">#</a></h3>
<p>Descargaremos y prepararemos nuestro conjunto de datos utilizando las bibliotecas de Python <code class="docutils literal notranslate"><span class="pre">pandas</span></code> y <code class="docutils literal notranslate"><span class="pre">numpy</span></code>. Al final de este ejercicio, tendremos un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> listo para la creación de nuestras visualizaciones de datos interactivas. Utilizaremos dos archivos de datos: <code class="docutils literal notranslate"><span class="pre">co2.csv</span></code>, que contiene información sobre las emisiones de dióxido de carbono por persona, año y país, y <code class="docutils literal notranslate"><span class="pre">gapminder.csv</span></code>, que registra el PIB por año y país.</p>
<ol class="arabic simple">
<li><p>Importar las bibliotecas necesarias:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Utilizaremos el path único para cargar los archivos de datos directamente en DataFrames:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url_co2</span> <span class="o">=</span> <span class="s1">&#39;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/co2.csv&#39;</span>
<span class="n">co2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_co2</span><span class="p">)</span>
<span class="n">co2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url_gm</span> <span class="o">=</span> <span class="s1">&#39;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/gapminder.csv&#39;</span>
<span class="n">gm</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url_gm</span><span class="p">)</span>
<span class="n">gm</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Creamos un nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> <code class="docutils literal notranslate"><span class="pre">df_gm</span></code> que contenga solo las columnas <em>Country</em> y <em>region</em>, y eliminamos duplicados:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_gm</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">df_gm</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>South Asia</td>
    </tr>
    <tr>
      <th>50</th>
      <td>Albania</td>
      <td>Europe &amp; Central Asia</td>
    </tr>
    <tr>
      <th>100</th>
      <td>Algeria</td>
      <td>Middle East &amp; North Africa</td>
    </tr>
    <tr>
      <th>150</th>
      <td>Angola</td>
      <td>Sub-Saharan Africa</td>
    </tr>
    <tr>
      <th>200</th>
      <td>Antigua and Barbuda</td>
      <td>America</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Utilice <code class="docutils literal notranslate"><span class="pre">.merge()</span></code> para combinar el DataFrame <code class="docutils literal notranslate"><span class="pre">co2</span></code> con el DataFrame <code class="docutils literal notranslate"><span class="pre">df_gm</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fusionamos el DataFrame &#39;co2&#39; con el DataFrame &#39;df_gm&#39; utilizando &#39;country&#39; y &#39;Country&#39; como claves</span>
<span class="c1"># La fusión es interna (&#39;inner join&#39;) para mantener solo las filas comunes a ambos DataFrames</span>
<span class="n">df_w_regions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>

<span class="c1"># Eliminamos la columna duplicada &#39;Country&#39; ya que &#39;country&#39; contiene la misma información</span>
<span class="n">df_w_regions</span> <span class="o">=</span> <span class="n">df_w_regions</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>

<span class="c1"># Mostramos las primeras 5 filas del DataFrame resultante para verificar la fusión</span>
<span class="n">df_w_regions</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>1800</th>
      <th>1801</th>
      <th>1802</th>
      <th>1803</th>
      <th>1804</th>
      <th>1805</th>
      <th>1806</th>
      <th>1807</th>
      <th>1808</th>
      <th>...</th>
      <th>2006</th>
      <th>2007</th>
      <th>2008</th>
      <th>2009</th>
      <th>2010</th>
      <th>2011</th>
      <th>2012</th>
      <th>2013</th>
      <th>2014</th>
      <th>region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0637</td>
      <td>0.0854</td>
      <td>0.154</td>
      <td>0.242</td>
      <td>0.294</td>
      <td>0.412</td>
      <td>0.35</td>
      <td>0.316</td>
      <td>0.299</td>
      <td>South Asia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Albania</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>1.2800</td>
      <td>1.3000</td>
      <td>1.460</td>
      <td>1.480</td>
      <td>1.560</td>
      <td>1.790</td>
      <td>1.68</td>
      <td>1.730</td>
      <td>1.960</td>
      <td>Europe &amp; Central Asia</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>2.9900</td>
      <td>3.1900</td>
      <td>3.160</td>
      <td>3.420</td>
      <td>3.300</td>
      <td>3.290</td>
      <td>3.46</td>
      <td>3.510</td>
      <td>3.720</td>
      <td>Middle East &amp; North Africa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Angola</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>1.1000</td>
      <td>1.2000</td>
      <td>1.180</td>
      <td>1.230</td>
      <td>1.240</td>
      <td>1.250</td>
      <td>1.33</td>
      <td>1.250</td>
      <td>1.290</td>
      <td>Sub-Saharan Africa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Antigua and Barbuda</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>4.9100</td>
      <td>5.1400</td>
      <td>5.190</td>
      <td>5.450</td>
      <td>5.540</td>
      <td>5.360</td>
      <td>5.42</td>
      <td>5.360</td>
      <td>5.380</td>
      <td>America</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 217 columns</p>
</div></div></div>
</div>
<ol class="arabic simple" start="5">
<li><p>A continuación, aplicaremos la función <code class="docutils literal notranslate"><span class="pre">.melt()</span></code> al DataFrame y almacenaremos el resultado en un nuevo DataFrame llamado <code class="docutils literal notranslate"><span class="pre">new_co2</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Aplicamos la función pd.melt() al DataFrame &#39;df_w_regions&#39;</span>
<span class="c1"># &#39;id_vars&#39; indica las columnas que queremos mantener como identificadoras (en este caso, &#39;country&#39; y &#39;region&#39;)</span>
<span class="c1"># El resto de las columnas (años) se transforman en una sola columna &#39;variable&#39; con sus respectivos valores en otra columna &#39;value&#39;</span>
<span class="n">new_co2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=...</span><span class="p">)</span>

<span class="c1"># Renombramos las columnas del DataFrame resultante para mayor claridad</span>
<span class="c1"># &#39;variable&#39; ahora se llamará &#39;year&#39; para representar los años, y &#39;value&#39; se renombra a &#39;co2&#39; para las emisiones de CO2</span>
<span class="n">new_co2</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;co2&#39;</span><span class="p">]</span>

<span class="c1"># muestra las 5 primeras</span>
<span class="n">new_co2</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="6">
<li><p>Estableceremos un límite inferior de 1964 en la columna <em>year</em> del DataFrame <code class="docutils literal notranslate"><span class="pre">new_co2</span></code>, filtrando los datos para mantener únicamente los años posteriores a 1963, y convertiremos los valores de esta columna al tipo <code class="docutils literal notranslate"><span class="pre">int64</span></code> utilizando <code class="docutils literal notranslate"><span class="pre">.astype('int64')</span></code>. El resultado se almacenará en un nuevo DataFrame llamado <code class="docutils literal notranslate"><span class="pre">df_co2</span></code>, que luego se ordenará por las columnas <code class="docutils literal notranslate"><span class="pre">['country',</span> <span class="pre">'year']</span></code> utilizando <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> para garantizar que los datos estén organizados por país y año de manera coherente y lista para análisis posteriores.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtramos el DataFrame &#39;new_co2&#39; para mantener solo los registros donde el valor de &#39;year&#39; es mayor a 1963</span>
<span class="c1"># Convertimos los valores de la columna &#39;year&#39; al tipo int64 para asegurar que los años sean tratados como enteros</span>
<span class="c1"># Luego, ordenamos el DataFrame resultante por las columnas &#39;country&#39; y &#39;year&#39;</span>
<span class="n">df_co2</span> <span class="o">=</span> <span class="n">new_co2</span><span class="p">[</span><span class="n">new_co2</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1963</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>

<span class="c1"># Convertimos nuevamente la columna &#39;year&#39; al tipo int64 para asegurarnos de que los valores tengan el formato adecuado</span>
<span class="n">df_co2</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Mostramos las primeras 5 filas del DataFrame &#39;df_co2&#39; para verificar que todo se ha realizado correctamente</span>
<span class="n">df_co2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="7">
<li><p>Creamos un nuevo DataFrame <code class="docutils literal notranslate"><span class="pre">df_gdp</span></code> que contenga las columnas <em>country</em>, <em>year</em> y <em>gdp</em> del DataFrame <code class="docutils literal notranslate"><span class="pre">gm</span></code>:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Seleccionamos las columnas &#39;Country&#39;, &#39;Year&#39; y &#39;gdp&#39; del DataFrame &#39;gm&#39;</span>
<span class="c1"># Estas columnas contienen la información del país, año y PIB (gdp)</span>
<span class="n">df_gdp</span> <span class="o">=</span> <span class="n">gm</span><span class="p">[[</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;gdp&#39;</span><span class="p">]]</span>

<span class="c1"># Renombramos las columnas para mantener consistencia en el formato</span>
<span class="c1"># Cambiamos &#39;Country&#39; a &#39;country&#39; y &#39;Year&#39; a &#39;year&#39; para alinearlas con el formato del DataFrame &#39;df_co2&#39;</span>
<span class="n">df_gdp</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Mostramos las primeras 5 filas del DataFrame &#39;df_gdp&#39; para verificar que los nombres de columnas y los datos son correctos</span>
<span class="n">df_gdp</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="8">
<li><p>Identificamos las columnas con valores faltantes en ambos DataFrames:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_gdp</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="9">
<li><p>Fusionamos los DataFrames <code class="docutils literal notranslate"><span class="pre">df_co2</span></code> y <code class="docutils literal notranslate"><span class="pre">df_gdp</span></code> en las columnas <em>country</em> y <em>year</em>, y eliminamos los valores faltantes:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Combinamos los DataFrames &#39;df_co2&#39; y &#39;df_gdp&#39; utilizando un &#39;merge&#39; en las columnas &#39;country&#39; y &#39;year&#39;</span>
<span class="c1"># Se utiliza &#39;how=left&#39; para hacer un left join, lo que asegura que se mantengan todos los registros de &#39;df_co2&#39;</span>
<span class="c1"># y solo se añadan los datos de &#39;gdp&#39; donde haya coincidencias en país y año</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_co2</span><span class="p">,</span> <span class="n">df_gdp</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1"># Eliminamos las filas que contienen valores NaN en cualquier columna utilizando &#39;dropna()&#39;</span>
<span class="c1"># Esto es necesario para asegurarnos de que trabajamos solo con datos completos</span>
<span class="n">data</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Mostramos las primeras 5 filas del DataFrame &#39;data&#39; para verificar que la combinación y la limpieza se realizaron correctamente</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="10">
<li><p>Por último, comprobemos la correlación entre las emisiones de dióxido de carbono y el PIB para asegurarnos de que estamos analizando datos que merecen ser visualizados. Crea un array numpy con las columnas <code class="docutils literal notranslate"><span class="pre">co2</span></code> y <code class="docutils literal notranslate"><span class="pre">gdp</span></code>:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convertimos la columna &#39;co2&#39; del DataFrame &#39;data&#39; en un array de NumPy</span>
<span class="c1"># Esto facilita la manipulación y el cálculo de correlaciones entre los valores</span>
<span class="n">np_co2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;co2&#39;</span><span class="p">])</span>

<span class="c1"># Convertimos la columna &#39;gdp&#39; del DataFrame &#39;data&#39; en un array de NumPy</span>
<span class="c1"># Este paso es similar al anterior para preparar los datos para el análisis</span>
<span class="n">np_gdp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">])</span>

<span class="c1"># Calculamos el coeficiente de correlación entre los arrays &#39;np_co2&#39; y &#39;np_gdp&#39;</span>
<span class="c1"># Utilizamos la función &#39;corrcoef()&#39; de NumPy, que devuelve una matriz de correlación</span>
<span class="c1"># El valor en la posición [0, 1] o [1, 0] será el coeficiente de correlación entre &#39;co2&#39; y &#39;gdp&#39;</span>
<span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1.        , 0.78219731],
       [0.78219731, 1.        ]])
</pre></div>
</div>
</div>
</div>
<p>El resultado muestra una correlación significativa (0.78) entre las emisiones de CO2 y el PIB, lo que indica que estos datos son adecuados para un análisis más profundo y visualización interactiva.</p>
</section>
<section id="creacion-del-grafico-estatico-con-visualizacion-interactiva">
<h3><strong>Creación del gráfico estático con visualización interactiva</strong><a class="headerlink" href="#creacion-del-grafico-estatico-con-visualizacion-interactiva" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importamos la función &#39;curdoc&#39; que maneja el documento gráfico actual en Bokeh</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">curdoc</span><span class="p">,</span> <span class="n">output_notebook</span>

<span class="c1"># Importamos las herramientas y métodos de Bokeh para crear interactividad</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">HoverTool</span><span class="p">,</span> <span class="n">ColumnDataSource</span><span class="p">,</span> <span class="n">CategoricalColorMapper</span><span class="p">,</span> <span class="n">Slider</span><span class="p">,</span> <span class="n">CustomJS</span>

<span class="c1"># Importamos la paleta de colores &#39;Spectral6&#39; que usaremos para colorear las regiones</span>
<span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">Spectral6</span>

<span class="c1"># Importamos &#39;widgetbox&#39; para agrupar herramientas, y &#39;row&#39; para organizar objetos visuales en filas</span>
<span class="kn">from</span> <span class="nn">bokeh.layouts</span> <span class="kn">import</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span>

<span class="c1"># Importamos la clase &#39;Figure&#39; para crear gráficos en Bokeh</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_notebook</span><span class="p">,</span> <span class="n">output_file</span>

<span class="c1"># Importamos &#39;interact&#39; para permitir la interactividad en el Jupyter notebook</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Ejecutamos la función <code class="docutils literal notranslate"><span class="pre">output_notebook()</span></code> para cargar BokehJS, lo que permite que las visualizaciones se muestren dentro del Jupyter notebook.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Carga BokehJS en el entorno del notebook</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">    <style>
        .bk-notebook-logo {
            display: block;
            width: 20px;
            height: 20px;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAOkSURBVDiNjZRtaJVlGMd/1/08zzln5zjP1LWcU9N0NkN8m2CYjpgQYQXqSs0I84OLIC0hkEKoPtiH3gmKoiJDU7QpLgoLjLIQCpEsNJ1vqUOdO7ppbuec5+V+rj4ctwzd8IIbbi6u+8f1539dt3A78eXC7QizUF7gyV1fD1Yqg4JWz84yffhm0qkFqBogB9rM8tZdtwVsPUhWhGcFJngGeWrPzHm5oaMmkfEg1usvLFyc8jLRqDOMru7AyC8saQr7GG7f5fvDeH7Ej8CM66nIF+8yngt6HWaKh7k49Soy9nXurCi1o3qUbS3zWfrYeQDTB/Qj6kX6Ybhw4B+bOYoLKCC9H3Nu/leUTZ1JdRWkkn2ldcCamzrcf47KKXdAJllSlxAOkRgyHsGC/zRday5Qld9DyoM4/q/rUoy/CXh3jzOu3bHUVZeU+DEn8FInkPBFlu3+nW3Nw0mk6vCDiWg8CeJaxEwuHS3+z5RgY+YBR6V1Z1nxSOfoaPa4LASWxxdNp+VWTk7+4vzaou8v8PN+xo+KY2xsw6une2frhw05CTYOmQvsEhjhWjn0bmXPjpE1+kplmmkP3suftwTubK9Vq22qKmrBhpY4jvd5afdRA3wGjFAgcnTK2s4hY0/GPNIb0nErGMCRxWOOX64Z8RAC4oCXdklmEvcL8o0BfkNK4lUg9HTl+oPlQxdNo3Mg4Nv175e/1LDGzZen30MEjRUtmXSfiTVu1kK8W4txyV6BMKlbgk3lMwYCiusNy9fVfvvwMxv8Ynl6vxoByANLTWplvuj/nF9m2+PDtt1eiHPBr1oIfhCChQMBw6Aw0UulqTKZdfVvfG7VcfIqLG9bcldL/+pdWTLxLUy8Qq38heUIjh4XlzZxzQm19lLFlr8vdQ97rjZVOLf8nclzckbcD4wxXMidpX30sFd37Fv/GtwwhzhxGVAprjbg0gCAEeIgwCZyTV2Z1REEW8O4py0wsjeloKoMr6iCY6dP92H6Vw/oTyICIthibxjm/DfN9lVz8IqtqKYLUXfoKVMVQVVJOElGjrnnUt9T9wbgp8AyYKaGlqingHZU/uG2NTZSVqwHQTWkx9hxjkpWDaCg6Ckj5qebgBVbT3V3NNXMSiWSDdGV3hrtzla7J+duwPOToIg42ChPQOQjspnSlp1V+Gjdged7+8UN5CRAV7a5EdFNwCjEaBR27b3W890TE7g24NAP/mMDXRWrGoFPQI9ls/MWO2dWFAar/xcOIImbbpA3zgAAAABJRU5ErkJggg==);
        }
    </style>
    <div>
        <a href="https://bokeh.org" target="_blank" class="bk-notebook-logo"></a>
        <span id="ea8f37a8-a373-485c-a40d-39394c0cd89b">Loading BokehJS ...</span>
    </div>
</div><script type="application/javascript">'use strict';
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }

    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;

    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded(error = null) {
    const el = document.getElementById("ea8f37a8-a373-485c-a40d-39394c0cd89b");
    if (el != null) {
      const html = (() => {
        if (typeof root.Bokeh === "undefined") {
          if (error == null) {
            return "BokehJS is loading ...";
          } else {
            return "BokehJS failed to load.";
          }
        } else {
          const prefix = `BokehJS ${root.Bokeh.version}`;
          if (error == null) {
            return `${prefix} successfully loaded.`;
          } else {
            return `${prefix} <b>encountered errors</b> while loading and may not function as expected.`;
          }
        }
      })();
      el.innerHTML = html;

      if (error != null) {
        const wrapper = document.createElement("div");
        wrapper.style.overflow = "auto";
        wrapper.style.height = "5em";
        wrapper.style.resize = "vertical";
        const content = document.createElement("div");
        content.style.fontFamily = "monospace";
        content.style.whiteSpace = "pre-wrap";
        content.style.backgroundColor = "rgb(255, 221, 221)";
        content.textContent = error.stack ?? error.toString();
        wrapper.append(content);
        el.append(wrapper);
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(() => display_loaded(error), 100);
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.4.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.4.3.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
      try {
            for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }

      } catch (error) {display_loaded(error);throw error;
      }if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("ea8f37a8-a373-485c-a40d-39394c0cd89b")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Vamos a codificar los puntos de datos (países) por color, dependiendo de la región a la que pertenezcan. Primero, crearemos una lista única de regiones a partir del DataFrame <code class="docutils literal notranslate"><span class="pre">data</span></code>, y luego utilizaremos <code class="docutils literal notranslate"><span class="pre">CategoricalColorMapper</span></code> para asignar un color a cada región.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creamos una lista de regiones únicas a partir de la columna &#39;region&#39; del DataFrame &#39;data&#39;</span>
<span class="n">regions_list</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Usamos &#39;CategoricalColorMapper&#39; para asignar un color de la paleta &#39;Spectral6&#39; a cada región</span>
<span class="n">color_mapper</span> <span class="o">=</span> <span class="n">CategoricalColorMapper</span><span class="p">(</span><span class="n">factors</span><span class="o">=</span><span class="n">regions_list</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">Spectral6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="5">
<li><p>Utilizaremos la función <code class="docutils literal notranslate"><span class="pre">ColumnDataSource</span></code> para construir un diccionario que contendrá las variables utilizadas en la gráfica, al que llamaremos <strong>source_init</strong>. Además, crearemos otro diccionario llamado <strong>source_last</strong>, que nos permitirá actualizar la gráfica de manera dinámica a medida que se visualicen los datos por año. Este enfoque nos ayudará a gestionar eficientemente los datos y actualizar la visualización de manera interactiva.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">source_init</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">gdp</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">)],</span>
                                     <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">co2</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">)],</span>
                                     <span class="s1">&#39;country&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">country</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">)],</span>
                                     <span class="s1">&#39;region&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">region</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">)],</span>
                                     <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">)]})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">source_last</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">gdp</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">co2</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="6">
<li><p>Creamos una figura inicial vacía con las siguientes configuraciones:</p></li>
</ol>
<ul class="simple">
<li><p>Establecemos el título como <code class="docutils literal notranslate"><span class="pre">Emisiones</span> <span class="pre">de</span> <span class="pre">CO2</span> <span class="pre">versus</span> <span class="pre">PIB</span> <span class="pre">en</span> <span class="pre">1964</span></code>.</p></li>
<li><p>Definimos el rango del eje <code class="docutils literal notranslate"><span class="pre">x</span></code> desde <code class="docutils literal notranslate"><span class="pre">xmin</span></code> hasta <code class="docutils literal notranslate"><span class="pre">xmax</span></code>.</p></li>
<li><p>Configuramos el rango del eje <code class="docutils literal notranslate"><span class="pre">y</span></code> desde <code class="docutils literal notranslate"><span class="pre">ymin</span></code> hasta <code class="docutils literal notranslate"><span class="pre">ymax</span></code>.</p></li>
<li><p>Ajustamos el tipo de escala del eje <code class="docutils literal notranslate"><span class="pre">y</span></code> a logarítmica para reflejar mejor la distribución de los datos.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;CO2 Emissions vs GDP in 1964&#39;</span><span class="p">,</span> <span class="n">y_axis_type</span><span class="o">=</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="7">
<li><p>Añadimos glifos circulares a la gráfica:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=...</span><span class="p">,</span> <span class="n">y</span><span class="o">=...</span><span class="p">,</span> 
            <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> 
            <span class="n">source</span><span class="o">=</span><span class="n">source_init</span><span class="p">,</span> 
            <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> 
            <span class="n">color</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">color_mapper</span><span class="p">),</span>
            <span class="n">size</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="7">
<li><p>Establezca la ubicación de la leyenda en la esquina inferior derecha del gráfico, y agregue títulos a los ejes</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;bottom_right&#39;</span>
<span class="n">plot</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">axis_label</span> <span class="o">=</span> <span class="s1">&#39;Income Per Person&#39;</span>
<span class="n">plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">axis_label</span> <span class="o">=</span> <span class="s1">&#39;CO2 Emissions (tons per person)&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="anadiendo-la-herramienta-hover">
<h3><strong>Añadiendo la herramienta Hover</strong><a class="headerlink" href="#anadiendo-la-herramienta-hover" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hover</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span><span class="n">tooltips</span><span class="o">=</span><span class="c1"># TU CODIGO)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">add_tools</span><span class="p">(</span><span class="n">hover</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="anadiendo-un-slicer-al-grafico-estatico">
<h3><strong>Añadiendo un slicer al gráfico estático</strong><a class="headerlink" href="#anadiendo-un-slicer-al-grafico-estatico" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Nombramos el archivo <strong>HTML</strong> de salida como <strong>co2_emissions</strong></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_file</span><span class="p">(</span><span class="s1">&#39;iframe_figures/co2_emissions.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Creamos la función <code class="docutils literal notranslate"><span class="pre">callback</span></code> usando <code class="docutils literal notranslate"><span class="pre">CustomJS</span></code> de la libreria bokeh la cual permitira actualizar nuestra figura. Usamos algunas pocas ordenes en lenguaje <code class="docutils literal notranslate"><span class="pre">JavaScript</span></code>. En este caso <code class="docutils literal notranslate"><span class="pre">cb_obj.value</span></code> contiene el modelo que <code class="docutils literal notranslate"><span class="pre">activa</span> <span class="pre">el</span> <span class="pre">callback</span></code></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">callback</span> <span class="o">=</span> <span class="n">CustomJS</span><span class="p">(</span>
    <span class="n">args</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">source_last</span><span class="o">=</span><span class="n">source_last</span><span class="p">,</span> <span class="n">source_init</span><span class="o">=</span><span class="n">source_init</span><span class="p">),</span> 
    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    // Acceso a los datos del source inicial (el que se muestra en la gráfica)</span>
<span class="s2">    var data_init = source_init.data;</span>

<span class="s2">    // Capturar el valor del widget (ej: año seleccionado)</span>
<span class="s2">    var yr = cb_obj.value;</span>

<span class="s2">    // Obtener todos los años del source completo</span>
<span class="s2">    var year = source_last.data[&#39;year&#39;];</span>

<span class="s2">    // Crear arrays vacíos para los nuevos valores</span>
<span class="s2">    var x_new = [];</span>
<span class="s2">    var y_new = [];</span>

<span class="s2">    // Recorrer todos los años del dataset completo</span>
<span class="s2">    for(var i = 0; i &lt; year.length; i++) {</span>
<span class="s2">        // Si el año coincide con el seleccionado, guardar los datos</span>
<span class="s2">        if(year[i] == yr) {</span>
<span class="s2">            x_new.push(source_last.data[&#39;x&#39;][i]);</span>
<span class="s2">            y_new.push(source_last.data[&#39;y&#39;][i]);</span>
<span class="s2">        }</span>
<span class="s2">    }</span>

<span class="s2">    // Actualizar la fuente inicial con los valores filtrados</span>
<span class="s2">    data_init[&#39;x&#39;] = x_new;</span>
<span class="s2">    data_init[&#39;y&#39;] = y_new;</span>

<span class="s2">    // Notificar a Bokeh que los datos cambiaron → refrescar gráfica</span>
<span class="s2">    source_init.change.emit();</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Construimos el <code class="docutils literal notranslate"><span class="pre">slider</span></code> que utilizaremos para actualizar las figuras, y realizamos el llamado de la función <code class="docutils literal notranslate"><span class="pre">callback</span></code> que recibirá como input cada año que proviene del slider. La siguiente figura podrá ser visualizada desde su editor <code class="docutils literal notranslate"><span class="pre">VS</span> <span class="pre">Code</span></code>. Para visualizarla en su JBook deberá actualizar el html desde su navegador, para que la función <code class="docutils literal notranslate"><span class="pre">show()</span></code> pueda activarse y mostrarse en su página.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slider</span> <span class="o">=</span> <span class="n">Slider</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">),</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">year</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="c1"># TU CODIGO</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">column</span><span class="p">(</span><span class="n">slider</span><span class="p">,</span> <span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="visualizacion-de-datos-a-traves-de-capas">
<h2><strong>Visualización de datos a través de capas</strong><a class="headerlink" href="#visualizacion-de-datos-a-traves-de-capas" title="Link to this heading">#</a></h2>
<p>Presentaremos <code class="docutils literal notranslate"><span class="pre">Altair</span></code>, una potente biblioteca de Python diseñada específicamente para la creación de gráficos interactivos. En esta sesión, demostraremos cómo utilizar Altair para generar visualizaciones interactivas en datos estratificados según diferentes variables categóricas. Para ilustrar sus capacidades, emplearemos un conjunto de datos real y crearemos gráficos de dispersión y de barras, destacando las principales características de los datos. Además, añadiremos una amplia gama de elementos interactivos para mejorar la experiencia visual y permitir una exploración dinámica de los datos.</p>
<section id="funcionalidad-hover-y-tooltip">
<h3><strong>Funcionalidad Hover y Tooltip</strong><a class="headerlink" href="#funcionalidad-hover-y-tooltip" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Importa el módulo <code class="docutils literal notranslate"><span class="pre">altair</span></code> como <code class="docutils literal notranslate"><span class="pre">alt</span></code>. Antes debe instalar altair usando <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">altair</span> <span class="pre">vega_datasets</span></code>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Cargar el conjunto de datos <code class="docutils literal notranslate"><span class="pre">hpi</span></code> y leer desde el conjunto de datos usando pandas:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">filename</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">hpi_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hpi_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Proporcione el DataFrame seleccionado, en este caso <code class="docutils literal notranslate"><span class="pre">hpi_df</span></code>, a la función <code class="docutils literal notranslate"><span class="pre">alt.Chart</span></code> de Altair. Utilice la función <code class="docutils literal notranslate"><span class="pre">mark_circle()</span></code> para representar los puntos de datos en el gráfico de dispersión con círculos rellenos. Emplee la función <code class="docutils literal notranslate"><span class="pre">encode()</span></code> para asignar las variables correspondientes a los ejes <span class="math notranslate nohighlight">\(x\)</span> e <span class="math notranslate nohighlight">\(y\)</span>. Aunque también utilizamos el parámetro <code class="docutils literal notranslate"><span class="pre">color</span></code> dentro de <code class="docutils literal notranslate"><span class="pre">encode()</span></code> para diferenciar los puntos de datos por la variable región mediante un código de colores, este paso es opcional.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;# TU CODIGO&#39;</span><span class="p">,</span>  <span class="c1"># Asigna la variable cuantitativa &#39;Wellbeing (0-10)&#39; al eje x.</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;# TU CODIGO&#39;</span><span class="p">,</span>  <span class="c1"># Asigna la variable cuantitativa &#39;Happy Planet Index&#39; al eje y.</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;# TU CODIGO&#39;</span><span class="p">,</span>  <span class="c1"># Colorea los puntos de datos según la variable categórica &#39;Region&#39;.</span>
    <span class="n">tooltip</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span> <span class="s1">&#39;Region&#39;</span><span class="p">,</span> <span class="s1">&#39;Wellbeing (0-10)&#39;</span><span class="p">,</span> <span class="s1">&#39;Happy Planet Index&#39;</span><span class="p">,</span> <span class="s1">&#39;Life Expectancy (years)&#39;</span><span class="p">]</span>  <span class="c1"># Muestra información adicional al pasar el cursor sobre los puntos.</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>En el gráfico anterior, observará que las características especificadas en el parámetro <code class="docutils literal notranslate"><span class="pre">tooltip</span></code> de la función <code class="docutils literal notranslate"><span class="pre">encode()</span></code> se muestran cuando el cursor se coloca sobre cualquier punto de datos. Sin embargo, la funcionalidad de zoom se ha perdido. ¿Cómo recuperarla? Es muy sencillo: ¡simplemente añada la función <code class="docutils literal notranslate"><span class="pre">interactive()</span></code>!. Incorpore <code class="docutils literal notranslate"><span class="pre">interactive()</span></code> para habilitar nuevamente la función de zoom en el gráfico, como se muestra a continuación:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Wellbeing (0-10):Q&#39;</span><span class="p">,</span>  <span class="c1"># Asigna la variable cuantitativa &#39;Wellbeing (0-10)&#39; al eje x.</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Happy Planet Index:Q&#39;</span><span class="p">,</span>  <span class="c1"># Asigna la variable cuantitativa &#39;Happy Planet Index&#39; al eje y.</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>  <span class="c1"># Colorea los puntos según la variable categórica &#39;Region&#39;.</span>
    <span class="n">tooltip</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span> <span class="s1">&#39;Region&#39;</span><span class="p">,</span> <span class="s1">&#39;Wellbeing (0-10)&#39;</span><span class="p">,</span> <span class="s1">&#39;Happy Planet Index&#39;</span><span class="p">,</span> <span class="s1">&#39;Life Expectancy (years)&#39;</span><span class="p">]</span>  <span class="c1"># Muestra un tooltip con información adicional al pasar el cursor.</span>
<span class="p">)</span><span class="o">.</span><span class="c1"># TU CODIGO  # Habilita la interactividad, incluyendo la capacidad de hacer zoom.</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="5">
<li><p>Añade <code class="docutils literal notranslate"><span class="pre">alt_value</span></code> como <code class="docutils literal notranslate"><span class="pre">lightgray</span></code> para que todos los puntos fuera de la selección sean grises.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_area</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_interval</span><span class="p">()</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Wellbeing (0-10):Q&#39;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Happy Planet Index:Q&#39;</span><span class="p">,</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">selected_area</span><span class="p">,</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightgray&#39;</span><span class="p">))</span>
<span class="p">)</span><span class="o">.</span><span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="seleccion-a-traves-de-multiples-parcelas">
<h3><strong>Selección a través de múltiples parcelas</strong><a class="headerlink" href="#seleccion-a-traves-de-multiples-parcelas" title="Link to this heading">#</a></h3>
<p>La función de selección se vuelve mucho más poderosa cuando se aplica a múltiples gráficos de manera conjunta. Tomemos como ejemplo dos gráficos de dispersión:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wellbeing</span></code> vs <code class="docutils literal notranslate"><span class="pre">happy</span> <span class="pre">planet</span> <span class="pre">index</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">life</span> <span class="pre">expectancy</span></code> vs <code class="docutils literal notranslate"><span class="pre">happy</span> <span class="pre">planet</span> <span class="pre">index</span></code></p></li>
</ul>
<ol class="arabic simple">
<li><p>Gráfico de dispersión de manera vertical</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>  
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Happy Planet Index&#39;</span><span class="p">,</span>  <span class="c1"># Asigna &#39;Happy Planet Index&#39; al eje y y codifica el color por &#39;Region&#39;.</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Region:N&#39;</span>  <span class="c1"># Colorea los puntos de datos según la variable categórica &#39;Region&#39;.</span>
<span class="p">)</span>
<span class="n">chart1</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;# TU CODIGO&#39;</span><span class="p">)</span>  <span class="c1"># Define el eje x como &#39;Wellbeing (0-10)&#39; para el primer gráfico.</span>
<span class="n">chart2</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;# TU CODIGO&#39;</span><span class="p">)</span>  <span class="c1"># Define el eje x como &#39;Life Expectancy (years)&#39; para el segundo gráfico.</span>
<span class="n">alt</span><span class="o">.</span><span class="n">vconcat</span><span class="p">(</span><span class="n">chart1</span><span class="p">,</span> <span class="n">chart2</span><span class="p">)</span>  <span class="c1"># Combina ambos gráficos verticalmente.</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Gráfico de dispersión de manera horizontal</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Selección por hover y tooltip en múltiples gráficos</span>
<span class="n">selected_area</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_interval</span><span class="p">()</span>  <span class="c1"># Define una selección de intervalo para la interacción.</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Happy Planet Index&#39;</span><span class="p">,</span>  <span class="c1"># Asigna &#39;Happy Planet Index&#39; al eje y.</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">selected_area</span><span class="p">,</span> <span class="s1">&#39;Region&#39;</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightgray&#39;</span><span class="p">))</span>  <span class="c1"># Colorea los puntos según la selección; los puntos no seleccionados se muestran en gris.</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">selected_area</span>  <span class="c1"># Añade la selección al gráfico.</span>
<span class="p">)</span>
<span class="n">chart1</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Wellbeing (0-10)&#39;</span><span class="p">)</span>  <span class="c1"># Primer gráfico con &#39;Wellbeing (0-10)&#39; en el eje x.</span>
<span class="n">chart2</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Life Expectancy (years)&#39;</span><span class="p">)</span>  <span class="c1"># Segundo gráfico con &#39;Life Expectancy (years)&#39; en el eje x.</span>
<span class="n">chart1</span> <span class="o">|</span> <span class="n">chart2</span>  <span class="c1"># Combina los gráficos en un diseño horizontal.</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="seleccion-de-los-valores-de-una-variable-categorica">
<h3><strong>Selección de los valores de una variable categórica</strong><a class="headerlink" href="#seleccion-de-los-valores-de-una-variable-categorica" title="Link to this heading">#</a></h3>
<p>Ahora, crearemos un gráfico interactivo que permitirá visualizar los puntos de datos correspondientes a una región específica. Utilizaremos la función <code class="docutils literal notranslate"><span class="pre">selection_single()</span></code> para seleccionar un conjunto determinado de puntos de datos. Al analizar el código, notará que los parámetros de esta función son bastante intuitivos. Para obtener más detalles o aclaraciones sobre su funcionamiento, puede consultar la documentación oficial en: <a class="reference external" href="https://altair-viz.github.io/user_guide/generated/api/altair.selection_single.html.">Altair Selection Single</a>.</p>
<p>Cree una variable <code class="docutils literal notranslate"><span class="pre">input_dropdown</span></code> utilizando la función <code class="docutils literal notranslate"><span class="pre">binding_select()</span></code> y configure el parámetro <code class="docutils literal notranslate"><span class="pre">options</span></code> con la lista de regiones disponibles en nuestro conjunto de datos. A continuación, utilice la función <code class="docutils literal notranslate"><span class="pre">selection_single()</span></code> para permitir la selección de un conjunto específico de puntos de datos. Almacene la condición de selección en una variable llamada <code class="docutils literal notranslate"><span class="pre">color</span></code>, la cual determinará bajo qué condiciones se resaltarán los puntos seleccionados en el gráfico.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">input_dropdown</span> <span class="o">=</span> <span class="c1"># TU CODIGO  # Crea un menú desplegable con las regiones únicas del DataFrame.</span>
<span class="n">selected_points</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span><span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Region&#39;</span><span class="p">],</span> <span class="n">bind</span> <span class="o">=</span> <span class="n">input_dropdown</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Select&#39;</span><span class="p">)</span>  <span class="c1"># Define una selección simple vinculada al menú desplegable por la variable &#39;Region&#39;.</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">selected_points</span><span class="p">,</span>  <span class="c1"># Establece la condición para el color basado en la selección.</span>
                      <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;Region:N&#39;</span><span class="p">),</span>  <span class="c1"># Si está seleccionada, se usa el color de &#39;Region&#39;.</span>
                      <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightgray&#39;</span><span class="p">))</span>  <span class="c1"># Si no está seleccionada, los puntos se muestran en gris.</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Wellbeing (0-10):Q&#39;</span><span class="p">,</span>  <span class="c1"># Asigna &#39;Wellbeing (0-10)&#39; al eje x.</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Happy Planet Index:Q&#39;</span><span class="p">,</span>  <span class="c1"># Asigna &#39;Happy Planet Index&#39; al eje y.</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">color</span><span class="p">,</span>  <span class="c1"># Aplica la condición de color basada en la selección.</span>
    <span class="n">tooltip</span> <span class="o">=</span> <span class="s1">&#39;Region:N&#39;</span>  <span class="c1"># Muestra la región en el tooltip al pasar el cursor sobre un punto.</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">selected_points</span>  <span class="c1"># Añade la selección al gráfico.</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>En el siguiente código se crea un gráfico de barras interactivo utilizando Altair, donde se muestra el promedio del <code class="docutils literal notranslate"><span class="pre">Happy</span> <span class="pre">Planet</span> <span class="pre">Index</span></code> por región. Se implementa una selección interactiva que permite resaltar las barras correspondientes a cada región al seleccionar desde la leyenda. Además, se agregan barras de error que representan el intervalo de confianza (CI) para cada promedio, con las barras de error mostradas en color negro. Ambos gráficos, las barras y las barras de error, se combinan y permiten la interactividad, como hacer zoom o resaltar regiones específicas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definir selección para interactividad</span>
<span class="n">highlight</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>

<span class="c1"># Gráfico de barras con el promedio del Happy Planet Index y la selección interactiva</span>
<span class="n">bar_chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;mean(Happy Planet Index):Q&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">highlight</span><span class="p">,</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightgray&#39;</span><span class="p">))</span>  <span class="c1"># Colorea las barras seleccionadas</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span>
    <span class="n">highlight</span>  <span class="c1"># Añadir selección interactiva</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>  <span class="c1"># Ajusta el ancho del gráfico</span>

<span class="c1"># Añadir barras de error con intervalo de confianza (ci) en color negro</span>
<span class="n">error_bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_errorbar</span><span class="p">(</span><span class="n">extent</span><span class="o">=</span><span class="s1">&#39;ci&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;mean(Happy Planet Index):Q&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>  <span class="c1"># Ajusta el ancho de las barras de error</span>

<span class="c1"># Combinar ambos gráficos</span>
<span class="p">(</span><span class="n">bar_chart</span> <span class="o">+</span> <span class="n">error_bars</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="funcion-de-zoom-en-un-mapa-de-calor-estatico">
<h3><strong>Función de zoom en un mapa de calor estático</strong><a class="headerlink" href="#funcion-de-zoom-en-un-mapa-de-calor-estatico" title="Link to this heading">#</a></h3>
<p>A continuación, añadiremos la función de zoom al mapa de calor de las correlaciones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_rect</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Happy Planet Index:Q&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>  <span class="c1"># Eje X con &#39;Happy Planet Index&#39;, agrupado en intervalos (binning)</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;Wellbeing (0-10):Q&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>  <span class="c1"># Eje Y con &#39;Wellbeing&#39;, también agrupado en intervalos</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;count()&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;greenblue&#39;</span><span class="p">),</span> <span class="n">legend</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Total Countries&#39;</span><span class="p">))</span>  <span class="c1"># Colorea los rectángulos según el recuento de países, con un esquema de color verde-azul</span>
<span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>  <span class="c1"># Habilita la interactividad (zoom y desplazamiento)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-714b0855de5e4a7385c0eedd862c1dd6.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-714b0855de5e4a7385c0eedd862c1dd6.vega-embed details,
  #altair-viz-714b0855de5e4a7385c0eedd862c1dd6.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-714b0855de5e4a7385c0eedd862c1dd6"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-714b0855de5e4a7385c0eedd862c1dd6") {
      outputDiv = document.getElementById("altair-viz-714b0855de5e4a7385c0eedd862c1dd6");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-e1c068cb61c6a12593f95144d0d2b6ed"}, "mark": {"type": "rect"}, "encoding": {"color": {"aggregate": "count", "legend": {"title": "Total Countries"}, "scale": {"scheme": "greenblue"}, "type": "quantitative"}, "x": {"bin": true, "field": "Happy Planet Index", "type": "quantitative"}, "y": {"bin": true, "field": "Wellbeing (0-10)", "type": "quantitative"}}, "params": [{"name": "param_27", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-e1c068cb61c6a12593f95144d0d2b6ed": [{"HPI Rank": 1, "Country": "Costa Rica", "Region": "Americas", "Life Expectancy (years)": 79.1, "Wellbeing (0-10)": 7.3, "Inequality of outcomes": "15%", "Ecological Footprint (gha/capita)": 2.8, "Happy Planet Index": 44.7}, {"HPI Rank": 2, "Country": "Mexico", "Region": "Americas", "Life Expectancy (years)": 76.4, "Wellbeing (0-10)": 7.3, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 2.9, "Happy Planet Index": 40.7}, {"HPI Rank": 3, "Country": "Colombia", "Region": "Americas", "Life Expectancy (years)": 73.7, "Wellbeing (0-10)": 6.4, "Inequality of outcomes": "24%", "Ecological Footprint (gha/capita)": 1.9, "Happy Planet Index": 40.7}, {"HPI Rank": 4, "Country": "Vanuatu", "Region": "Asia Pacific", "Life Expectancy (years)": 71.3, "Wellbeing (0-10)": 6.5, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 1.9, "Happy Planet Index": 40.6}, {"HPI Rank": 5, "Country": "Vietnam", "Region": "Asia Pacific", "Life Expectancy (years)": 75.5, "Wellbeing (0-10)": 5.5, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 1.7, "Happy Planet Index": 40.3}, {"HPI Rank": 6, "Country": "Panama", "Region": "Americas", "Life Expectancy (years)": 77.2, "Wellbeing (0-10)": 6.9, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 2.8, "Happy Planet Index": 39.5}, {"HPI Rank": 7, "Country": "Nicaragua", "Region": "Americas", "Life Expectancy (years)": 74.3, "Wellbeing (0-10)": 5.4, "Inequality of outcomes": "25%", "Ecological Footprint (gha/capita)": 1.4, "Happy Planet Index": 38.7}, {"HPI Rank": 8, "Country": "Bangladesh", "Region": "Asia Pacific", "Life Expectancy (years)": 70.8, "Wellbeing (0-10)": 4.7, "Inequality of outcomes": "27%", "Ecological Footprint (gha/capita)": 0.7, "Happy Planet Index": 38.4}, {"HPI Rank": 9, "Country": "Thailand", "Region": "Asia Pacific", "Life Expectancy (years)": 74.1, "Wellbeing (0-10)": 6.3, "Inequality of outcomes": "15%", "Ecological Footprint (gha/capita)": 2.7, "Happy Planet Index": 37.3}, {"HPI Rank": 10, "Country": "Ecuador", "Region": "Americas", "Life Expectancy (years)": 75.4, "Wellbeing (0-10)": 6.0, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 2.2, "Happy Planet Index": 37.0}, {"HPI Rank": 11, "Country": "Jamaica", "Region": "Americas", "Life Expectancy (years)": 75.3, "Wellbeing (0-10)": 5.6, "Inequality of outcomes": "21%", "Ecological Footprint (gha/capita)": 1.9, "Happy Planet Index": 36.9}, {"HPI Rank": 12, "Country": "Norway", "Region": "Europe", "Life Expectancy (years)": 81.3, "Wellbeing (0-10)": 7.7, "Inequality of outcomes": "7%", "Ecological Footprint (gha/capita)": 5.0, "Happy Planet Index": 36.8}, {"HPI Rank": 13, "Country": "Albania", "Region": "Post-communist", "Life Expectancy (years)": 77.3, "Wellbeing (0-10)": 5.5, "Inequality of outcomes": "17%", "Ecological Footprint (gha/capita)": 2.2, "Happy Planet Index": 36.8}, {"HPI Rank": 14, "Country": "Uruguay", "Region": "Americas", "Life Expectancy (years)": 76.9, "Wellbeing (0-10)": 6.4, "Inequality of outcomes": "18%", "Ecological Footprint (gha/capita)": 2.9, "Happy Planet Index": 36.1}, {"HPI Rank": 15, "Country": "Spain", "Region": "Europe", "Life Expectancy (years)": 82.2, "Wellbeing (0-10)": 6.3, "Inequality of outcomes": "10%", "Ecological Footprint (gha/capita)": 3.7, "Happy Planet Index": 36.0}, {"HPI Rank": 16, "Country": "Indonesia", "Region": "Asia Pacific", "Life Expectancy (years)": 68.5, "Wellbeing (0-10)": 5.4, "Inequality of outcomes": "21%", "Ecological Footprint (gha/capita)": 1.6, "Happy Planet Index": 35.7}, {"HPI Rank": 17, "Country": "El Salvador", "Region": "Americas", "Life Expectancy (years)": 72.5, "Wellbeing (0-10)": 5.9, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 2.1, "Happy Planet Index": 35.6}, {"HPI Rank": 18, "Country": "Netherlands", "Region": "Europe", "Life Expectancy (years)": 81.2, "Wellbeing (0-10)": 7.5, "Inequality of outcomes": "4%", "Ecological Footprint (gha/capita)": 5.3, "Happy Planet Index": 35.3}, {"HPI Rank": 19, "Country": "Argentina", "Region": "Americas", "Life Expectancy (years)": 75.9, "Wellbeing (0-10)": 6.5, "Inequality of outcomes": "16%", "Ecological Footprint (gha/capita)": 3.1, "Happy Planet Index": 35.2}, {"HPI Rank": 20, "Country": "Philippines", "Region": "Asia Pacific", "Life Expectancy (years)": 67.9, "Wellbeing (0-10)": 5.0, "Inequality of outcomes": "26%", "Ecological Footprint (gha/capita)": 1.1, "Happy Planet Index": 35.0}, {"HPI Rank": 21, "Country": "Peru", "Region": "Americas", "Life Expectancy (years)": 74.1, "Wellbeing (0-10)": 5.8, "Inequality of outcomes": "21%", "Ecological Footprint (gha/capita)": 2.3, "Happy Planet Index": 34.6}, {"HPI Rank": 22, "Country": "Palestine", "Region": "Middle East and North Africa", "Life Expectancy (years)": 72.6, "Wellbeing (0-10)": 4.6, "Inequality of outcomes": "24%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 34.5}, {"HPI Rank": 23, "Country": "Brazil", "Region": "Americas", "Life Expectancy (years)": 73.9, "Wellbeing (0-10)": 6.9, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 3.1, "Happy Planet Index": 34.3}, {"HPI Rank": 24, "Country": "Switzerland", "Region": "Europe", "Life Expectancy (years)": 82.6, "Wellbeing (0-10)": 7.8, "Inequality of outcomes": "6%", "Ecological Footprint (gha/capita)": 5.8, "Happy Planet Index": 34.3}, {"HPI Rank": 25, "Country": "Tajikistan", "Region": "Post-communist", "Life Expectancy (years)": 69.0, "Wellbeing (0-10)": 4.5, "Inequality of outcomes": "26%", "Ecological Footprint (gha/capita)": 0.9, "Happy Planet Index": 34.2}, {"HPI Rank": 26, "Country": "Guatemala", "Region": "Americas", "Life Expectancy (years)": 71.4, "Wellbeing (0-10)": 5.9, "Inequality of outcomes": "27%", "Ecological Footprint (gha/capita)": 1.9, "Happy Planet Index": 34.2}, {"HPI Rank": 27, "Country": "Belize", "Region": "Americas", "Life Expectancy (years)": 69.8, "Wellbeing (0-10)": 6.1, "Inequality of outcomes": "18%", "Ecological Footprint (gha/capita)": 2.5, "Happy Planet Index": 33.8}, {"HPI Rank": 28, "Country": "Sri Lanka", "Region": "Asia Pacific", "Life Expectancy (years)": 74.6, "Wellbeing (0-10)": 4.2, "Inequality of outcomes": "17%", "Ecological Footprint (gha/capita)": 1.3, "Happy Planet Index": 33.8}, {"HPI Rank": 29, "Country": "Venezuela", "Region": "Americas", "Life Expectancy (years)": 73.9, "Wellbeing (0-10)": 7.1, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 3.6, "Happy Planet Index": 33.6}, {"HPI Rank": 30, "Country": "Algeria", "Region": "Middle East and North Africa", "Life Expectancy (years)": 74.3, "Wellbeing (0-10)": 5.6, "Inequality of outcomes": "24%", "Ecological Footprint (gha/capita)": 2.1, "Happy Planet Index": 33.3}, {"HPI Rank": 31, "Country": "Kyrgyzstan", "Region": "Post-communist", "Life Expectancy (years)": 69.7, "Wellbeing (0-10)": 5.2, "Inequality of outcomes": "18%", "Ecological Footprint (gha/capita)": 1.9, "Happy Planet Index": 33.1}, {"HPI Rank": 32, "Country": "Denmark", "Region": "Europe", "Life Expectancy (years)": 79.8, "Wellbeing (0-10)": 7.5, "Inequality of outcomes": "7%", "Ecological Footprint (gha/capita)": 5.5, "Happy Planet Index": 32.7}, {"HPI Rank": 33, "Country": "Morocco", "Region": "Middle East and North Africa", "Life Expectancy (years)": 73.4, "Wellbeing (0-10)": 5.0, "Inequality of outcomes": "25%", "Ecological Footprint (gha/capita)": 1.7, "Happy Planet Index": 32.7}, {"HPI Rank": 34, "Country": "United Kingdom", "Region": "Europe", "Life Expectancy (years)": 80.4, "Wellbeing (0-10)": 6.9, "Inequality of outcomes": "9%", "Ecological Footprint (gha/capita)": 4.9, "Happy Planet Index": 31.9}, {"HPI Rank": 35, "Country": "Chile", "Region": "Americas", "Life Expectancy (years)": 81.1, "Wellbeing (0-10)": 6.6, "Inequality of outcomes": "14%", "Ecological Footprint (gha/capita)": 4.4, "Happy Planet Index": 31.7}, {"HPI Rank": 36, "Country": "Pakistan", "Region": "Asia Pacific", "Life Expectancy (years)": 65.7, "Wellbeing (0-10)": 5.1, "Inequality of outcomes": "40%", "Ecological Footprint (gha/capita)": 0.8, "Happy Planet Index": 31.5}, {"HPI Rank": 37, "Country": "Finland", "Region": "Europe", "Life Expectancy (years)": 80.4, "Wellbeing (0-10)": 7.4, "Inequality of outcomes": "6%", "Ecological Footprint (gha/capita)": 5.9, "Happy Planet Index": 31.3}, {"HPI Rank": 38, "Country": "New Zealand", "Region": "Asia Pacific", "Life Expectancy (years)": 81.4, "Wellbeing (0-10)": 7.2, "Inequality of outcomes": "8%", "Ecological Footprint (gha/capita)": 5.6, "Happy Planet Index": 31.3}, {"HPI Rank": 39, "Country": "Iceland", "Region": "Europe", "Life Expectancy (years)": 82.2, "Wellbeing (0-10)": 7.6, "Inequality of outcomes": "5%", "Ecological Footprint (gha/capita)": 6.4, "Happy Planet Index": 31.1}, {"HPI Rank": 40, "Country": "Georgia", "Region": "Post-communist", "Life Expectancy (years)": 74.6, "Wellbeing (0-10)": 4.3, "Inequality of outcomes": "20%", "Ecological Footprint (gha/capita)": 1.6, "Happy Planet Index": 31.1}, {"HPI Rank": 41, "Country": "Cyprus", "Region": "Europe", "Life Expectancy (years)": 79.8, "Wellbeing (0-10)": 6.2, "Inequality of outcomes": "12%", "Ecological Footprint (gha/capita)": 4.2, "Happy Planet Index": 30.7}, {"HPI Rank": 42, "Country": "Nepal", "Region": "Asia Pacific", "Life Expectancy (years)": 68.8, "Wellbeing (0-10)": 4.2, "Inequality of outcomes": "27%", "Ecological Footprint (gha/capita)": 1.0, "Happy Planet Index": 30.5}, {"HPI Rank": 43, "Country": "Austria", "Region": "Europe", "Life Expectancy (years)": 81.0, "Wellbeing (0-10)": 7.4, "Inequality of outcomes": "7%", "Ecological Footprint (gha/capita)": 6.1, "Happy Planet Index": 30.5}, {"HPI Rank": 44, "Country": "France", "Region": "Europe", "Life Expectancy (years)": 81.8, "Wellbeing (0-10)": 6.6, "Inequality of outcomes": "9%", "Ecological Footprint (gha/capita)": 5.1, "Happy Planet Index": 30.4}, {"HPI Rank": 45, "Country": "Dominican Republic", "Region": "Americas", "Life Expectancy (years)": 73.1, "Wellbeing (0-10)": 4.8, "Inequality of outcomes": "30%", "Ecological Footprint (gha/capita)": 1.5, "Happy Planet Index": 30.3}, {"HPI Rank": 46, "Country": "Malaysia", "Region": "Asia Pacific", "Life Expectancy (years)": 74.4, "Wellbeing (0-10)": 5.9, "Inequality of outcomes": "10%", "Ecological Footprint (gha/capita)": 3.7, "Happy Planet Index": 30.3}, {"HPI Rank": 47, "Country": "Croatia", "Region": "Post-communist", "Life Expectancy (years)": 77.0, "Wellbeing (0-10)": 6.0, "Inequality of outcomes": "12%", "Ecological Footprint (gha/capita)": 3.9, "Happy Planet Index": 30.2}, {"HPI Rank": 48, "Country": "Ireland", "Region": "Europe", "Life Expectancy (years)": 80.5, "Wellbeing (0-10)": 7.0, "Inequality of outcomes": "8%", "Ecological Footprint (gha/capita)": 5.6, "Happy Planet Index": 30.0}, {"HPI Rank": 49, "Country": "Germany", "Region": "Europe", "Life Expectancy (years)": 80.6, "Wellbeing (0-10)": 6.7, "Inequality of outcomes": "8%", "Ecological Footprint (gha/capita)": 5.3, "Happy Planet Index": 29.8}, {"HPI Rank": 50, "Country": "India", "Region": "Asia Pacific", "Life Expectancy (years)": 67.3, "Wellbeing (0-10)": 4.6, "Inequality of outcomes": "31%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 29.2}, {"HPI Rank": 51, "Country": "Uzbekistan", "Region": "Post-communist", "Life Expectancy (years)": 68.2, "Wellbeing (0-10)": 6.0, "Inequality of outcomes": "30%", "Ecological Footprint (gha/capita)": 2.3, "Happy Planet Index": 29.1}, {"HPI Rank": 52, "Country": "Serbia", "Region": "Post-communist", "Life Expectancy (years)": 74.5, "Wellbeing (0-10)": 5.2, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 2.7, "Happy Planet Index": 29.0}, {"HPI Rank": 53, "Country": "Malta", "Region": "Europe", "Life Expectancy (years)": 80.2, "Wellbeing (0-10)": 6.0, "Inequality of outcomes": "13%", "Ecological Footprint (gha/capita)": 4.4, "Happy Planet Index": 29.0}, {"HPI Rank": 54, "Country": "Israel", "Region": "Middle East and North Africa", "Life Expectancy (years)": 81.9, "Wellbeing (0-10)": 7.1, "Inequality of outcomes": "8%", "Ecological Footprint (gha/capita)": 6.2, "Happy Planet Index": 28.8}, {"HPI Rank": 55, "Country": "Romania", "Region": "Post-communist", "Life Expectancy (years)": 74.3, "Wellbeing (0-10)": 5.2, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 2.7, "Happy Planet Index": 28.8}, {"HPI Rank": 56, "Country": "Bhutan", "Region": "Asia Pacific", "Life Expectancy (years)": 68.7, "Wellbeing (0-10)": 5.6, "Inequality of outcomes": "27%", "Ecological Footprint (gha/capita)": 2.3, "Happy Planet Index": 28.6}, {"HPI Rank": 57, "Country": "Haiti", "Region": "Americas", "Life Expectancy (years)": 62.1, "Wellbeing (0-10)": 4.4, "Inequality of outcomes": "37%", "Ecological Footprint (gha/capita)": 0.6, "Happy Planet Index": 28.6}, {"HPI Rank": 58, "Country": "Japan", "Region": "Asia Pacific", "Life Expectancy (years)": 83.2, "Wellbeing (0-10)": 6.0, "Inequality of outcomes": "9%", "Ecological Footprint (gha/capita)": 5.0, "Happy Planet Index": 28.3}, {"HPI Rank": 59, "Country": "Slovakia", "Region": "Post-communist", "Life Expectancy (years)": 75.9, "Wellbeing (0-10)": 5.9, "Inequality of outcomes": "13%", "Ecological Footprint (gha/capita)": 4.1, "Happy Planet Index": 28.2}, {"HPI Rank": 60, "Country": "Italy", "Region": "Europe", "Life Expectancy (years)": 82.7, "Wellbeing (0-10)": 5.8, "Inequality of outcomes": "12%", "Ecological Footprint (gha/capita)": 4.6, "Happy Planet Index": 28.1}, {"HPI Rank": 61, "Country": "Sweden", "Region": "Europe", "Life Expectancy (years)": 81.8, "Wellbeing (0-10)": 7.6, "Inequality of outcomes": "6%", "Ecological Footprint (gha/capita)": 7.3, "Happy Planet Index": 28.0}, {"HPI Rank": 62, "Country": "Poland", "Region": "Post-communist", "Life Expectancy (years)": 76.9, "Wellbeing (0-10)": 5.9, "Inequality of outcomes": "11%", "Ecological Footprint (gha/capita)": 4.4, "Happy Planet Index": 27.5}, {"HPI Rank": 63, "Country": "Mauritius", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 74.0, "Wellbeing (0-10)": 5.5, "Inequality of outcomes": "17%", "Ecological Footprint (gha/capita)": 3.5, "Happy Planet Index": 27.4}, {"HPI Rank": 64, "Country": "Czech Republic", "Region": "Post-communist", "Life Expectancy (years)": 78.2, "Wellbeing (0-10)": 6.3, "Inequality of outcomes": "9%", "Ecological Footprint (gha/capita)": 5.2, "Happy Planet Index": 27.3}, {"HPI Rank": 65, "Country": "Honduras", "Region": "Americas", "Life Expectancy (years)": 72.8, "Wellbeing (0-10)": 4.6, "Inequality of outcomes": "31%", "Ecological Footprint (gha/capita)": 1.7, "Happy Planet Index": 27.2}, {"HPI Rank": 66, "Country": "Ethiopia", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 62.8, "Wellbeing (0-10)": 4.6, "Inequality of outcomes": "36%", "Ecological Footprint (gha/capita)": 1.0, "Happy Planet Index": 26.7}, {"HPI Rank": 67, "Country": "Iraq", "Region": "Middle East and North Africa", "Life Expectancy (years)": 69.0, "Wellbeing (0-10)": 4.7, "Inequality of outcomes": "27%", "Ecological Footprint (gha/capita)": 1.9, "Happy Planet Index": 26.5}, {"HPI Rank": 68, "Country": "Turkey", "Region": "Middle East and North Africa", "Life Expectancy (years)": 74.7, "Wellbeing (0-10)": 5.3, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 3.3, "Happy Planet Index": 26.4}, {"HPI Rank": 69, "Country": "Hungary", "Region": "Post-communist", "Life Expectancy (years)": 74.9, "Wellbeing (0-10)": 4.7, "Inequality of outcomes": "15%", "Ecological Footprint (gha/capita)": 2.9, "Happy Planet Index": 26.4}, {"HPI Rank": 70, "Country": "Ukraine", "Region": "Post-communist", "Life Expectancy (years)": 70.3, "Wellbeing (0-10)": 5.0, "Inequality of outcomes": "17%", "Ecological Footprint (gha/capita)": 2.8, "Happy Planet Index": 26.4}, {"HPI Rank": 71, "Country": "Tunisia", "Region": "Middle East and North Africa", "Life Expectancy (years)": 74.6, "Wellbeing (0-10)": 4.5, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 2.3, "Happy Planet Index": 26.2}, {"HPI Rank": 72, "Country": "China", "Region": "Asia Pacific", "Life Expectancy (years)": 75.4, "Wellbeing (0-10)": 5.1, "Inequality of outcomes": "17%", "Ecological Footprint (gha/capita)": 3.4, "Happy Planet Index": 25.7}, {"HPI Rank": 73, "Country": "Armenia", "Region": "Post-communist", "Life Expectancy (years)": 74.4, "Wellbeing (0-10)": 4.3, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 2.2, "Happy Planet Index": 25.7}, {"HPI Rank": 74, "Country": "Cambodia", "Region": "Asia Pacific", "Life Expectancy (years)": 67.5, "Wellbeing (0-10)": 3.9, "Inequality of outcomes": "28%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 25.6}, {"HPI Rank": 75, "Country": "Suriname", "Region": "Americas", "Life Expectancy (years)": 70.8, "Wellbeing (0-10)": 6.3, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 4.3, "Happy Planet Index": 25.4}, {"HPI Rank": 76, "Country": "Bosnia and Herzegovina", "Region": "Post-communist", "Life Expectancy (years)": 76.2, "Wellbeing (0-10)": 4.8, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 3.1, "Happy Planet Index": 25.3}, {"HPI Rank": 77, "Country": "Zambia", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 58.4, "Wellbeing (0-10)": 5.0, "Inequality of outcomes": "41%", "Ecological Footprint (gha/capita)": 1.0, "Happy Planet Index": 25.2}, {"HPI Rank": 78, "Country": "Montenegro", "Region": "Post-communist", "Life Expectancy (years)": 75.8, "Wellbeing (0-10)": 5.2, "Inequality of outcomes": "16%", "Ecological Footprint (gha/capita)": 3.8, "Happy Planet Index": 25.1}, {"HPI Rank": 79, "Country": "Portugal", "Region": "Europe", "Life Expectancy (years)": 80.3, "Wellbeing (0-10)": 5.0, "Inequality of outcomes": "16%", "Ecological Footprint (gha/capita)": 3.9, "Happy Planet Index": 24.8}, {"HPI Rank": 80, "Country": "South Korea", "Region": "Asia Pacific", "Life Expectancy (years)": 81.3, "Wellbeing (0-10)": 6.0, "Inequality of outcomes": "11%", "Ecological Footprint (gha/capita)": 5.7, "Happy Planet Index": 24.8}, {"HPI Rank": 81, "Country": "Myanmar", "Region": "Asia Pacific", "Life Expectancy (years)": 65.5, "Wellbeing (0-10)": 4.4, "Inequality of outcomes": "32%", "Ecological Footprint (gha/capita)": 1.4, "Happy Planet Index": 24.7}, {"HPI Rank": 82, "Country": "Slovenia", "Region": "Post-communist", "Life Expectancy (years)": 80.0, "Wellbeing (0-10)": 6.1, "Inequality of outcomes": "10%", "Ecological Footprint (gha/capita)": 5.8, "Happy Planet Index": 24.6}, {"HPI Rank": 83, "Country": "Kenya", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 60.3, "Wellbeing (0-10)": 4.5, "Inequality of outcomes": "38%", "Ecological Footprint (gha/capita)": 1.0, "Happy Planet Index": 24.2}, {"HPI Rank": 84, "Country": "Iran", "Region": "Middle East and North Africa", "Life Expectancy (years)": 74.8, "Wellbeing (0-10)": 4.6, "Inequality of outcomes": "23%", "Ecological Footprint (gha/capita)": 2.8, "Happy Planet Index": 24.0}, {"HPI Rank": 85, "Country": "Canada", "Region": "Americas", "Life Expectancy (years)": 81.7, "Wellbeing (0-10)": 7.4, "Inequality of outcomes": "9%", "Ecological Footprint (gha/capita)": 8.2, "Happy Planet Index": 23.9}, {"HPI Rank": 86, "Country": "Egypt", "Region": "Middle East and North Africa", "Life Expectancy (years)": 70.7, "Wellbeing (0-10)": 4.2, "Inequality of outcomes": "23%", "Ecological Footprint (gha/capita)": 2.2, "Happy Planet Index": 23.8}, {"HPI Rank": 87, "Country": "Belgium", "Region": "Europe", "Life Expectancy (years)": 80.4, "Wellbeing (0-10)": 6.9, "Inequality of outcomes": "9%", "Ecological Footprint (gha/capita)": 7.4, "Happy Planet Index": 23.7}, {"HPI Rank": 88, "Country": "Mozambique", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 54.3, "Wellbeing (0-10)": 5.0, "Inequality of outcomes": "43%", "Ecological Footprint (gha/capita)": 0.9, "Happy Planet Index": 23.7}, {"HPI Rank": 89, "Country": "Greece", "Region": "Europe", "Life Expectancy (years)": 80.5, "Wellbeing (0-10)": 5.1, "Inequality of outcomes": "16%", "Ecological Footprint (gha/capita)": 4.4, "Happy Planet Index": 23.6}, {"HPI Rank": 90, "Country": "Macedonia", "Region": "Post-communist", "Life Expectancy (years)": 75.1, "Wellbeing (0-10)": 4.6, "Inequality of outcomes": "18%", "Ecological Footprint (gha/capita)": 3.3, "Happy Planet Index": 23.4}, {"HPI Rank": 91, "Country": "Paraguay", "Region": "Americas", "Life Expectancy (years)": 72.6, "Wellbeing (0-10)": 5.8, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 4.2, "Happy Planet Index": 23.3}, {"HPI Rank": 92, "Country": "Bolivia", "Region": "Americas", "Life Expectancy (years)": 67.5, "Wellbeing (0-10)": 6.0, "Inequality of outcomes": "35%", "Ecological Footprint (gha/capita)": 3.0, "Happy Planet Index": 23.3}, {"HPI Rank": 93, "Country": "Comoros", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 62.6, "Wellbeing (0-10)": 4.0, "Inequality of outcomes": "36%", "Ecological Footprint (gha/capita)": 1.0, "Happy Planet Index": 23.1}, {"HPI Rank": 94, "Country": "Yemen", "Region": "Middle East and North Africa", "Life Expectancy (years)": 63.3, "Wellbeing (0-10)": 4.1, "Inequality of outcomes": "39%", "Ecological Footprint (gha/capita)": 1.0, "Happy Planet Index": 22.8}, {"HPI Rank": 95, "Country": "Nigeria", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 52.1, "Wellbeing (0-10)": 5.5, "Inequality of outcomes": "44%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 22.2}, {"HPI Rank": 96, "Country": "Liberia", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 60.2, "Wellbeing (0-10)": 4.4, "Inequality of outcomes": "38%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 22.2}, {"HPI Rank": 97, "Country": "Tanzania", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 63.5, "Wellbeing (0-10)": 4.0, "Inequality of outcomes": "33%", "Ecological Footprint (gha/capita)": 1.3, "Happy Planet Index": 22.1}, {"HPI Rank": 98, "Country": "Malawi", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 60.1, "Wellbeing (0-10)": 4.3, "Inequality of outcomes": "45%", "Ecological Footprint (gha/capita)": 0.8, "Happy Planet Index": 22.1}, {"HPI Rank": 99, "Country": "Zimbabwe", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 53.7, "Wellbeing (0-10)": 5.0, "Inequality of outcomes": "37%", "Ecological Footprint (gha/capita)": 1.4, "Happy Planet Index": 22.1}, {"HPI Rank": 100, "Country": "Lebanon", "Region": "Middle East and North Africa", "Life Expectancy (years)": 78.8, "Wellbeing (0-10)": 4.6, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 3.8, "Happy Planet Index": 21.9}, {"HPI Rank": 101, "Country": "Senegal", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 65.4, "Wellbeing (0-10)": 3.7, "Inequality of outcomes": "33%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 21.9}, {"HPI Rank": 102, "Country": "Belarus", "Region": "Post-communist", "Life Expectancy (years)": 70.9, "Wellbeing (0-10)": 5.7, "Inequality of outcomes": "13%", "Ecological Footprint (gha/capita)": 5.1, "Happy Planet Index": 21.7}, {"HPI Rank": 103, "Country": "Namibia", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 64.0, "Wellbeing (0-10)": 4.7, "Inequality of outcomes": "26%", "Ecological Footprint (gha/capita)": 2.5, "Happy Planet Index": 21.6}, {"HPI Rank": 104, "Country": "Ghana", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 61.0, "Wellbeing (0-10)": 5.1, "Inequality of outcomes": "38%", "Ecological Footprint (gha/capita)": 2.0, "Happy Planet Index": 21.4}, {"HPI Rank": 105, "Country": "Australia", "Region": "Asia Pacific", "Life Expectancy (years)": 82.1, "Wellbeing (0-10)": 7.2, "Inequality of outcomes": "8%", "Ecological Footprint (gha/capita)": 9.3, "Happy Planet Index": 21.2}, {"HPI Rank": 106, "Country": "Oman", "Region": "Middle East and North Africa", "Life Expectancy (years)": 76.3, "Wellbeing (0-10)": 6.9, "Inequality of outcomes": "13%", "Ecological Footprint (gha/capita)": 7.5, "Happy Planet Index": 21.1}, {"HPI Rank": 107, "Country": "Lithuania", "Region": "Post-communist", "Life Expectancy (years)": 72.8, "Wellbeing (0-10)": 5.8, "Inequality of outcomes": "11%", "Ecological Footprint (gha/capita)": 5.8, "Happy Planet Index": 21.0}, {"HPI Rank": 108, "Country": "United States of America", "Region": "Americas", "Life Expectancy (years)": 78.8, "Wellbeing (0-10)": 7.0, "Inequality of outcomes": "13%", "Ecological Footprint (gha/capita)": 8.2, "Happy Planet Index": 20.7}, {"HPI Rank": 109, "Country": "Bulgaria", "Region": "Post-communist", "Life Expectancy (years)": 73.9, "Wellbeing (0-10)": 4.2, "Inequality of outcomes": "19%", "Ecological Footprint (gha/capita)": 3.3, "Happy Planet Index": 20.4}, {"HPI Rank": 110, "Country": "Afghanistan", "Region": "Middle East and North Africa", "Life Expectancy (years)": 59.7, "Wellbeing (0-10)": 3.8, "Inequality of outcomes": "43%", "Ecological Footprint (gha/capita)": 0.8, "Happy Planet Index": 20.2}, {"HPI Rank": 111, "Country": "Rwanda", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 63.1, "Wellbeing (0-10)": 3.3, "Inequality of outcomes": "37%", "Ecological Footprint (gha/capita)": 0.9, "Happy Planet Index": 19.6}, {"HPI Rank": 112, "Country": "Uganda", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 57.1, "Wellbeing (0-10)": 4.3, "Inequality of outcomes": "41%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 19.4}, {"HPI Rank": 113, "Country": "Syria", "Region": "Middle East and North Africa", "Life Expectancy (years)": 70.4, "Wellbeing (0-10)": 3.2, "Inequality of outcomes": "30%", "Ecological Footprint (gha/capita)": 1.5, "Happy Planet Index": 19.1}, {"HPI Rank": 114, "Country": "Kazakhstan", "Region": "Post-communist", "Life Expectancy (years)": 68.6, "Wellbeing (0-10)": 5.8, "Inequality of outcomes": "18%", "Ecological Footprint (gha/capita)": 5.6, "Happy Planet Index": 19.1}, {"HPI Rank": 115, "Country": "Republic of Congo", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 61.0, "Wellbeing (0-10)": 3.9, "Inequality of outcomes": "40%", "Ecological Footprint (gha/capita)": 1.3, "Happy Planet Index": 18.8}, {"HPI Rank": 116, "Country": "Russia", "Region": "Post-communist", "Life Expectancy (years)": 69.5, "Wellbeing (0-10)": 5.6, "Inequality of outcomes": "16%", "Ecological Footprint (gha/capita)": 5.7, "Happy Planet Index": 18.7}, {"HPI Rank": 117, "Country": "Mauritania", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 62.6, "Wellbeing (0-10)": 4.7, "Inequality of outcomes": "37%", "Ecological Footprint (gha/capita)": 2.5, "Happy Planet Index": 18.0}, {"HPI Rank": 118, "Country": "Estonia", "Region": "Post-communist", "Life Expectancy (years)": 76.2, "Wellbeing (0-10)": 5.4, "Inequality of outcomes": "12%", "Ecological Footprint (gha/capita)": 6.9, "Happy Planet Index": 17.9}, {"HPI Rank": 119, "Country": "Burkina Faso", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 58.0, "Wellbeing (0-10)": 4.0, "Inequality of outcomes": "43%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 17.9}, {"HPI Rank": 120, "Country": "Gabon", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 63.3, "Wellbeing (0-10)": 4.0, "Inequality of outcomes": "36%", "Ecological Footprint (gha/capita)": 2.0, "Happy Planet Index": 17.5}, {"HPI Rank": 121, "Country": "Latvia", "Region": "Post-communist", "Life Expectancy (years)": 73.6, "Wellbeing (0-10)": 5.1, "Inequality of outcomes": "14%", "Ecological Footprint (gha/capita)": 6.3, "Happy Planet Index": 17.1}, {"HPI Rank": 122, "Country": "Niger", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 60.0, "Wellbeing (0-10)": 3.8, "Inequality of outcomes": "40%", "Ecological Footprint (gha/capita)": 1.6, "Happy Planet Index": 16.8}, {"HPI Rank": 123, "Country": "Hong Kong", "Region": "Asia Pacific", "Life Expectancy (years)": 83.6, "Wellbeing (0-10)": 5.5, "Inequality of outcomes": "10%", "Ecological Footprint (gha/capita)": 8.8, "Happy Planet Index": 16.8}, {"HPI Rank": 124, "Country": "Cameroon", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 54.6, "Wellbeing (0-10)": 4.2, "Inequality of outcomes": "47%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 16.7}, {"HPI Rank": 125, "Country": "Lesotho", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 48.9, "Wellbeing (0-10)": 4.9, "Inequality of outcomes": "42%", "Ecological Footprint (gha/capita)": 1.7, "Happy Planet Index": 16.7}, {"HPI Rank": 126, "Country": "Botswana", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 64.2, "Wellbeing (0-10)": 4.8, "Inequality of outcomes": "28%", "Ecological Footprint (gha/capita)": 3.8, "Happy Planet Index": 16.6}, {"HPI Rank": 127, "Country": "Djibouti", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 61.3, "Wellbeing (0-10)": 4.4, "Inequality of outcomes": "42%", "Ecological Footprint (gha/capita)": 2.2, "Happy Planet Index": 16.4}, {"HPI Rank": 128, "Country": "South Africa", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 56.3, "Wellbeing (0-10)": 5.1, "Inequality of outcomes": "33%", "Ecological Footprint (gha/capita)": 3.3, "Happy Planet Index": 15.9}, {"HPI Rank": 129, "Country": "Guinea", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 57.7, "Wellbeing (0-10)": 3.7, "Inequality of outcomes": "42%", "Ecological Footprint (gha/capita)": 1.4, "Happy Planet Index": 15.9}, {"HPI Rank": 130, "Country": "Trinidad and Tobago", "Region": "Americas", "Life Expectancy (years)": 70.1, "Wellbeing (0-10)": 6.4, "Inequality of outcomes": "21%", "Ecological Footprint (gha/capita)": 7.9, "Happy Planet Index": 15.7}, {"HPI Rank": 131, "Country": "Burundi", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 55.8, "Wellbeing (0-10)": 3.4, "Inequality of outcomes": "48%", "Ecological Footprint (gha/capita)": 0.8, "Happy Planet Index": 15.6}, {"HPI Rank": 132, "Country": "Swaziland", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 48.9, "Wellbeing (0-10)": 4.9, "Inequality of outcomes": "41%", "Ecological Footprint (gha/capita)": 2.0, "Happy Planet Index": 15.5}, {"HPI Rank": 133, "Country": "Sierra Leone", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 49.8, "Wellbeing (0-10)": 4.5, "Inequality of outcomes": "50%", "Ecological Footprint (gha/capita)": 1.2, "Happy Planet Index": 15.3}, {"HPI Rank": 134, "Country": "Turkmenistan", "Region": "Post-communist", "Life Expectancy (years)": 65.3, "Wellbeing (0-10)": 5.5, "Inequality of outcomes": "31%", "Ecological Footprint (gha/capita)": 5.5, "Happy Planet Index": 14.6}, {"HPI Rank": 135, "Country": "Cote d'Ivoire", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 50.8, "Wellbeing (0-10)": 3.8, "Inequality of outcomes": "45%", "Ecological Footprint (gha/capita)": 1.3, "Happy Planet Index": 14.4}, {"HPI Rank": 136, "Country": "Mongolia", "Region": "Asia Pacific", "Life Expectancy (years)": 68.6, "Wellbeing (0-10)": 4.9, "Inequality of outcomes": "22%", "Ecological Footprint (gha/capita)": 6.1, "Happy Planet Index": 14.3}, {"HPI Rank": 137, "Country": "Benin", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 59.2, "Wellbeing (0-10)": 3.2, "Inequality of outcomes": "44%", "Ecological Footprint (gha/capita)": 1.4, "Happy Planet Index": 13.4}, {"HPI Rank": 138, "Country": "Togo", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 58.6, "Wellbeing (0-10)": 2.9, "Inequality of outcomes": "43%", "Ecological Footprint (gha/capita)": 1.1, "Happy Planet Index": 13.2}, {"HPI Rank": 139, "Country": "Luxembourg", "Region": "Europe", "Life Expectancy (years)": 81.1, "Wellbeing (0-10)": 7.0, "Inequality of outcomes": "7%", "Ecological Footprint (gha/capita)": 15.8, "Happy Planet Index": 13.2}, {"HPI Rank": 140, "Country": "Chad", "Region": "Sub Saharan Africa", "Life Expectancy (years)": 50.8, "Wellbeing (0-10)": 4.0, "Inequality of outcomes": "51%", "Ecological Footprint (gha/capita)": 1.5, "Happy Planet Index": 12.8}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="dinamica-de-un-grafico-de-barras-y-un-mapa-de-calor">
<h3><strong>Dinámica de un gráfico de barras y un mapa de calor</strong><a class="headerlink" href="#dinamica-de-un-grafico-de-barras-y-un-mapa-de-calor" title="Link to this heading">#</a></h3>
<p>Vamos a vincular dinámicamente un gráfico de barras con un mapa de calor. Imagina un escenario en el que, al hacer clic en una barra del gráfico, el mapa de calor se actualiza automáticamente para mostrar los datos correspondientes a la región seleccionada. Por ejemplo, podrías hacer clic en una barra que representa una región y, a partir de eso, el mapa de calor de <code class="docutils literal notranslate"><span class="pre">Life</span> <span class="pre">Expectancy</span></code> frente a <code class="docutils literal notranslate"><span class="pre">Wellbeing</span></code> se ajustaría para mostrar únicamente los datos de los países de esa región específica. Esto permite una exploración más detallada y enfocada en los datos.</p>
<ol class="arabic simple">
<li><p>Seleccione la región mediante el método de <code class="docutils literal notranslate"><span class="pre">selection</span></code> y crea el <code class="docutils literal notranslate"><span class="pre">heatmap</span></code></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_region</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;single&quot;</span><span class="p">,</span> <span class="n">encodings</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>  <span class="c1"># Definir una selección interactiva en el eje x (región)</span>

<span class="n">heatmap</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_rect</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Wellbeing (0-10):Q&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>  <span class="c1"># Eje X con &#39;Wellbeing&#39; agrupado en intervalos (binned)</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;Life Expectancy (years):Q&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>  <span class="c1"># Eje Y con &#39;Life Expectancy&#39; también agrupado en intervalos</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;count()&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;greenblue&#39;</span><span class="p">),</span> <span class="n">legend</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Total Countries&#39;</span><span class="p">))</span>  <span class="c1"># Colorear según el recuento de países, usando un esquema de color verde-azul</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">350</span>  <span class="c1"># Ajustar el ancho del gráfico a 350 píxeles</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Colocar los círculos en un mapa de calor</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">circles</span> <span class="o">=</span> <span class="n">heatmap</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">ColorValue</span><span class="p">(</span><span class="s1">&#39;grey&#39;</span><span class="p">),</span>  <span class="c1"># Los puntos (círculos) tendrán color gris</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;count()&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Records in Selection&#39;</span><span class="p">))</span>  <span class="c1"># El tamaño de los puntos representa el número de registros en la selección</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span>
    <span class="n">selected_region</span>  <span class="c1"># Filtra los puntos en función de la región seleccionada en el gráfico de barras</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Utilice la función <code class="docutils literal notranslate"><span class="pre">heatmap+circles</span> <span class="pre">|</span> <span class="pre">bars</span></code> para vincular dinámicamente el gráfico de barras y el mapa de calor</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">hpi_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>  <span class="c1"># Eje X con las regiones (categórico)</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;count()&#39;</span><span class="p">,</span>  <span class="c1"># Eje Y con el recuento de países por región</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="n">selected_region</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">ColorValue</span><span class="p">(</span><span class="s2">&quot;steelblue&quot;</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">ColorValue</span><span class="p">(</span><span class="s2">&quot;grey&quot;</span><span class="p">))</span>  <span class="c1"># Colorea las barras en azul para la región seleccionada y en gris para las no seleccionadas</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">350</span>  <span class="c1"># Ajusta el ancho del gráfico de barras</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span><span class="n">selected_region</span><span class="p">)</span>  <span class="c1"># Añade la selección interactiva en las barras</span>

<span class="c1"># Combina el heatmap con los círculos, seguido por el gráfico de barras en un diseño horizontal</span>
<span class="n">heatmap</span> <span class="o">+</span> <span class="n">circles</span> <span class="o">|</span> <span class="n">bars</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="visualizacion-interactiva-de-mapas-con-datos-geograficos">
<h2><strong>Visualización interactiva de mapas con datos geográficos</strong><a class="headerlink" href="#visualizacion-interactiva-de-mapas-con-datos-geograficos" title="Link to this heading">#</a></h2>
<section id="creacion-de-un-mapa-coropletico">
<h3><strong>Creación de un mapa coroplético</strong><a class="headerlink" href="#creacion-de-un-mapa-coropletico" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Cargar el archivo CSV proporcionado</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/share-of-individuals-using-the-internet.csv&#39;</span>
<span class="n">df_owd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TU CODIGO</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Filtraremos los datos por el año 2016.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_owd_2016</span> <span class="o">=</span> <span class="c1"># TU CODIGO</span>
<span class="n">df_owd_2016</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>En los siguientes pasos, utilizaremos el módulo <strong><code class="docutils literal notranslate"><span class="pre">express</span></code></strong> de <strong><code class="docutils literal notranslate"><span class="pre">Plotly</span></code></strong> (debido a su simplicidad) y la función <strong><code class="docutils literal notranslate"><span class="pre">choropleth</span></code></strong> para crear un mapa coroplético interactivo. A continuación, se describen los parámetros clave que pasaremos a esta función:</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>  <span class="c1"># Importa Plotly Express para generar gráficos interactivos de forma sencilla</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">IFrame</span><span class="p">,</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>  <span class="c1"># Importa funciones para visualizar gráficos en Jupyter Notebooks</span>
<span class="kn">import</span> <span class="nn">chart_studio.plotly</span> <span class="k">as</span> <span class="nn">py</span>  <span class="c1"># Importa Chart Studio para subir gráficos a la plataforma de Plotly (opcional)</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;showLink&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;displayModeBar&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>  <span class="c1"># Configuración para desactivar enlaces y barra de herramientas</span>

<span class="c1"># Crear el mapa coroplético usando el DataFrame filtrado para 2016</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span>
    <span class="o">...</span><span class="p">,</span>  <span class="c1"># DataFrame con los datos del uso de Internet en 2016</span>
    <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;Code&quot;</span><span class="p">,</span>  <span class="c1"># Columna con los códigos de país ISO 3166</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Individuals using the Internet (</span><span class="si">% o</span><span class="s2">f population)&quot;</span><span class="p">,</span>  <span class="c1"># Columna para colorear el mapa según el porcentaje de usuarios de Internet</span>
    <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>  <span class="c1"># Columna para mostrar el nombre del país al pasar el cursor</span>
    <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">Plasma</span>  <span class="c1"># Esquema de color continuo &#39;Plasma&#39;</span>
<span class="p">)</span>

<span class="c1"># Actualizar el título del gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Internet usage across the world (% population)&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  <span class="c1"># Visualiza el gráfico de forma interactiva</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>                            <div id="558ea4f5-82bf-4bcb-9e7f-b564cb1815aa" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("558ea4f5-82bf-4bcb-9e7f-b564cb1815aa")) {                    Plotly.newPlot(                        "558ea4f5-82bf-4bcb-9e7f-b564cb1815aa",                        [{"coloraxis":"coloraxis","geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eCode=%{location}\u003cbr\u003eIndividuals using the Internet (% of population)=%{z}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Arab World","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Caribbean small states","Cayman Islands","Central African Republic","Central Europe and the Baltics","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominica","Dominican Republic","Early-demographic dividend","East Asia & Pacific","East Asia & Pacific (IDA & IBRD)","East Asia & Pacific (excluding high income)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Euro area","Europe & Central Asia","Europe & Central Asia (IDA & IBRD)","Europe & Central Asia (excluding high income)","European Union","Faeroe Islands","Fiji","Finland","Fragile and conflict affected situations","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Heavily indebted poor countries (HIPC)","High income","Honduras","Hong Kong","Hungary","IBRD only","IDA & IBRD total","IDA blend","IDA only","IDA total","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Late-demographic dividend","Latin America & Caribbean","Latin America & Caribbean (IDA & IBRD)","Latin America & Caribbean (excluding high income)","Latvia","Least developed countries: UN classification","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Low & middle income","Low income","Lower middle income","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia (country)","Middle East & North Africa","Middle East & North Africa (IDA & IBRD)","Middle East & North Africa (excluding high income)","Middle income","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North America","Norway","OECD members","Oman","Other small states","Pacific island small states","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Post-demographic dividend","Pre-demographic dividend","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Small states","Solomon Islands","Somalia","South Africa","South Asia","South Asia (IDA & IBRD)","South Korea","South Sudan","Spain","Sri Lanka","Sub-Saharan Africa","Sub-Saharan Africa (IDA & IBRD)","Sub-Saharan Africa (excluding high income)","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Upper middle income","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"locations":["AFG","ALB","DZA","AND","AGO","ATG",null,"ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV",null,"CYM","CAF",null,"TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CUW","CYP","CZE","COD","DNK","DJI","DMA","DOM",null,null,null,null,"ECU","EGY","SLV","GNQ","ERI","EST","ETH",null,null,null,null,null,"FRO","FJI","FIN",null,"FRA","PYF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GUM","GTM","GIN","GNB","GUY","HTI",null,null,"HND","HKG","HUN",null,null,null,null,null,"ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO",null,null,null,null,"LVA",null,"LBN","LSO","LBR","LBY","LIE","LTU",null,null,null,"LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MRT","MUS","MEX","FSM",null,null,null,null,"MDA","MCO","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA",null,"NOR",null,"OMN",null,null,"PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT",null,null,"PRI","QAT","ROU","RUS","RWA","KNA","LCA","VCT","WSM","STP","SAU","SEN","SRB","SYC","SLE","SGP","SVK","SVN",null,"SLB","SOM","ZAF",null,null,"KOR","SSD","ESP","LKA",null,null,null,"SDN","SUR","SWZ","SWE","CHE",null,"TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","TUV","UGA","UKR","ARE","GBR","USA","VIR",null,"URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"name":"","z":[10.5957264186601,66.363444701023,42.9455268800332,97.9306371220021,13.0,73.0,42.6899446475061,70.9689808206024,64.3460297653742,93.542453865048,88.2386580521762,84.3233312921004,78.2,80.0,97.9999807024146,18.2469380029449,79.5493978888735,71.1130457603832,86.5165,44.57574032,11.994047908223,98.0,41.7726445321672,39.6975146032685,60.26,39.36299738,60.8725400681261,90.0,59.825547661014,13.96,5.17362677652886,32.3984517141849,25.0,91.16,50.3228178676892,53.5582024875428,79.0,4.0,71.3504111076453,5.0,83.56,53.2,58.1364935728703,7.938322770803,8.121949323466,66.028712851114,41.21,72.6973060458944,42.98,61.855510740634,75.9003601905124,76.4812013779572,6.20997406030119,96.9677852516645,13.1349151074,67.03,63.87,33.6269640084423,52.9499969954877,48.4267745852469,48.4267745852469,54.0629247288864,41.2480670885772,28.997073045597,23.779999971074,1.177118720157,87.2373320920335,15.3669238595896,79.3593948986586,72.941770027028,63.459594101046,62.4431550261505,80.1329362880489,95.1086816720257,46.5069783122217,87.7036499599455,18.1122945516213,79.27,68.440419493378,48.0522737506185,18.5,59.26,89.6471005903368,34.66600065,94.4444715818151,69.0879154723892,68.500873675421,55.8564078225865,77.009999893206,34.5093260915602,9.8,3.761413832337,35.66,12.2326016070408,16.0811923807541,81.6558676597029,30.0,87.477846264841,79.2594013161699,45.9635971053882,39.2301328422377,22.189285541667,17.4416919936533,19.0154451540382,98.2400162999185,29.5471628858754,25.45,53.2267726333568,21.23,85.0111321151019,79.6531241815281,61.3242527666303,44.3668563671334,93.1827212821617,62.3021925670712,74.5877264735738,16.6,13.7,78.36738376,34.5,21.87,56.6239069881053,57.4039870744804,57.5699054735836,55.3280145470315,79.8420977843089,15.6463248108015,76.11,27.36,7.31910641139578,20.27215956269,98.0939038921672,74.3766455618662,38.635026809408,13.5966179806928,29.8555655168725,98.1366986657616,81.6429854646415,72.1568144676058,4.713662899498,11.47,78.7883099275229,59.0925899654109,11.1121864890589,77.2893948185413,29.7877793626081,18.0,52.1913259356523,59.5404459967255,33.352162552269,48.3315062336771,42.8704415472246,43.1049810139874,41.7656739441088,70.9999991066624,95.2081779700534,22.2657705007562,69.8816468416779,58.271236420398,17.5212390868424,25.07330424,31.0333459383454,19.688763836629,90.4109589041096,88.470186347099,24.5718339595365,4.32275803028068,25.67,77.6970673303378,97.2982036675068,78.6833493661164,76.85,45.7299346232056,30.6072134708858,15.5145577897414,61.17838482746,54.0,9.60153846153846,53.4,45.4617406869459,55.5,73.3007,70.423567088723,80.8956419867703,17.1134249269799,68.64,94.2911181549896,59.5039512852713,73.091434617897,20.0,76.8176749076294,46.7290780591803,55.5746194230166,29.4117301129981,28.0,74.88,25.6647680413953,67.0568413716938,56.5147081470678,11.77318438,84.45,80.4759,75.4985042610791,46.2681756845194,11.000902271205,1.88,54.0,26.4777357008626,26.4777357008626,92.8430256796075,6.6797280510287,80.5613329432179,32.0510027436177,19.8507023234738,19.8507023234738,19.8473582909389,28.0,45.4,28.5735227827685,89.6509476102355,89.1346877351392,31.869627268866,20.470000000055,13.0,47.5049656215909,25.24624959,11.31,39.95,73.296941218486,49.6,58.3477340145685,17.990324461341,46.0091515110578,21.87617046,53.0,90.6000073180483,94.7758006318882,76.176736982841,59.60831579895,55.2661929975714,66.4,46.7912869407806,24.0,60.0,46.5,45.7936844622977,24.5792083636211,25.5065788475702,23.11998904],"type":"choropleth"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"geo":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{}},"coloraxis":{"colorbar":{"title":{"text":"Individuals using the Internet (% of population)"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Internet usage across the world (% population)"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('558ea4f5-82bf-4bcb-9e7f-b564cb1815aa');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div></div></div>
</div>
</section>
<section id="ajuste-de-un-mapa-coropletico-mundial">
<h3><strong>Ajuste de un mapa coroplético mundial</strong><a class="headerlink" href="#ajuste-de-un-mapa-coropletico-mundial" title="Link to this heading">#</a></h3>
<p>Supongamos que solo nos interesa visualizar el uso de internet en el continente de <strong>Sudamérica</strong>. Para lograr esto, podemos utilizar el parámetro <strong><code class="docutils literal notranslate"><span class="pre">geo_scope</span></code></strong> en la función <strong><code class="docutils literal notranslate"><span class="pre">update_layout()</span></code></strong> para hacer un <em>zoom</em> en esa región geográfica.</p>
<p>El siguiente código muestra cómo hacerlo de manera rápida y sencilla:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span>
    <span class="o">...</span><span class="p">,</span>  <span class="c1"># DataFrame con los datos de uso de Internet en 2016</span>
    <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;Code&quot;</span><span class="p">,</span>  <span class="c1"># Columna con los códigos ISO 3166 de los países</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Individuals using the Internet (</span><span class="si">% o</span><span class="s2">f population)&quot;</span><span class="p">,</span>  <span class="c1"># Columna para colorear el mapa según el porcentaje de usuarios de Internet</span>
    <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>  <span class="c1"># Columna para mostrar el nombre del país al pasar el cursor</span>
    <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">Plasma</span>  <span class="c1"># Esquema de color continuo &#39;Plasma&#39;</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="c1"># Añadir un título para el gráfico</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Uso de Internet en todo Sur América (</span><span class="si">% d</span><span class="s1">e población) - 2016&#39;</span><span class="p">,</span>
    <span class="n">geo_scope</span><span class="o">=</span><span class="s1">&#39;....&#39;</span>  <span class="c1"># Limitar el alcance del mapa a Sudamérica (opciones: north america, africa, asia, etc.)</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Otro continente</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span><span class="n">df_owd_2016</span><span class="p">,</span>
                    <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;Code&quot;</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Individuals using the Internet (</span><span class="si">% o</span><span class="s2">f population)&quot;</span><span class="p">,</span> <span class="c1"># column by which to color-code</span>
                    <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span> <span class="c1"># column to display in hover information </span>
                    <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">Plasma</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="c1"># add a title text for the plot</span>
    <span class="n">title_text</span> <span class="o">=</span> <span class="s1">&#39;Internet usage across the Europe Continent (% population) - 2016&#39;</span><span class="p">,</span>
    <span class="n">geo_scope</span> <span class="o">=</span> <span class="s1">&#39;...&#39;</span> <span class="c1"># can be set to north america | south america | africa | asia | europe | usa</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Para darle al mapa una proyección más realista y permitir que se vea como un globo terráqueo, podemos configurar el tipo de proyección a <strong><code class="docutils literal notranslate"><span class="pre">natural</span> <span class="pre">earth</span></code></strong> utilizando el parámetro <strong><code class="docutils literal notranslate"><span class="pre">projection_type</span></code></strong> en la función <strong><code class="docutils literal notranslate"><span class="pre">update_layout()</span></code></strong>. Esto nos permitirá visualizar el mapa con una proyección más natural (ver <a class="reference external" href="https://plotly.com/python/reference/layout/geo/#layout-geo-projection-type">layout-geo-projection-type</a>), lo que hace que el gráfico pueda rotarse de manera similar a un globo real.</p>
<p>El siguiente código demuestra cómo establecer la proyección del mapa en <strong>Natural Earth</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span>
    <span class="o">...</span><span class="p">,</span>  <span class="c1"># DataFrame con los datos de uso de Internet en 2016</span>
    <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;Code&quot;</span><span class="p">,</span>  <span class="c1"># Columna con los códigos ISO 3166 de los países</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Individuals using the Internet (</span><span class="si">% o</span><span class="s2">f population)&quot;</span><span class="p">,</span>  <span class="c1"># Columna para colorear el mapa según el porcentaje de usuarios de Internet</span>
    <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>  <span class="c1"># Columna para mostrar el nombre del país al pasar el cursor</span>
    <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">Plasma</span>  <span class="c1"># Esquema de color continuo &#39;Plasma&#39;</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="c1"># Añadir un título para el gráfico</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Internet usage across the world (% population)&#39;</span><span class="p">,</span>
    <span class="c1"># Establecer el estilo de proyección del mapa</span>
    <span class="n">geo</span><span class="o">=</span><span class="c1"># TU CODIGO  # Establecer proyección tipo &#39;natural earth&#39; (por defecto es &#39;equirectangular&#39;)</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="anadiendo-animacion-a-un-mapa-coropletico">
<h3><strong>Añadiendo animación a un mapa coroplético</strong><a class="headerlink" href="#anadiendo-animacion-a-un-mapa-coropletico" title="Link to this heading">#</a></h3>
<p>A continuación, añadiremos un componente deslizante al mapa para ver los registros en diferentes puntos temporales</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ordenar las fechas</span>
<span class="n">df_owd</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span>
    <span class="n">df_owd</span><span class="p">,</span>  <span class="c1"># DataFrame con los datos de uso de Internet</span>
    <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;Code&quot;</span><span class="p">,</span>  <span class="c1"># Columna con los códigos ISO 3166 de los países</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Individuals using the Internet (</span><span class="si">% o</span><span class="s2">f population)&quot;</span><span class="p">,</span>  <span class="c1"># Columna que define la coloración según el porcentaje de usuarios de Internet</span>
    <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>  <span class="c1"># Columna para mostrar el nombre del país al pasar el cursor</span>
    <span class="n">animation_frame</span><span class="o">=</span><span class="s2">&quot;# TU CODIGO&quot;</span><span class="p">,</span>  <span class="c1"># Columna para animar el gráfico a lo largo del tiempo (por año)</span>
    <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">Plasma</span>  <span class="c1"># Esquema de color continuo &#39;Plasma&#39;</span>
<span class="p">)</span>
 
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="c1"># Añadir un título al gráfico</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Internet usage across the world (% population)&#39;</span><span class="p">,</span>
    <span class="c1"># Establecer el estilo de proyección del mapa</span>
    <span class="n">geo</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;natural earth&#39;</span><span class="p">})</span>  <span class="c1"># Establecer proyección &#39;natural earth&#39; (por defecto es &#39;equirectangular&#39;)</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico animado</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="mapas-coropleticos-con-graph-objects">
<h3><strong>Mapas coropléticos con <code class="docutils literal notranslate"><span class="pre">graph_objects</span></code></strong><a class="headerlink" href="#mapas-coropleticos-con-graph-objects" title="Link to this heading">#</a></h3>
<p><strong><code class="docutils literal notranslate"><span class="pre">graph_objects</span></code></strong> es una parte avanzada de la biblioteca <code class="docutils literal notranslate"><span class="pre">Plotly</span></code> que permite un mayor control y personalización sobre los gráficos. Al crear mapas coropléticos con graph_objects, puedes definir manualmente cada aspecto del gráfico, desde la estructura de los datos hasta las características visuales, como los colores, las etiquetas y la proyección del mapa.</p>
<p>Esto ofrece más flexibilidad que <strong><code class="docutils literal notranslate"><span class="pre">px.choropleth</span></code></strong>, lo que resulta útil cuando necesitas una personalización detallada, como ajustar propiedades específicas de los datos, personalizar interacciones o modificar configuraciones visuales avanzadas. Sin embargo, requiere más código que las opciones más sencillas de <code class="docutils literal notranslate"><span class="pre">plotly.express</span></code>. Hagamos el siguiente ejemplo:</p>
<ol class="arabic simple">
<li><p>Vamos a utilizar un conjunto de datos sobre la <strong>población de los Estados Unidos</strong> para crear un mapa coroplético que muestre la distribución de la población en los distintos estados. Primero, modificaremos el conjunto de datos para asegurarnos de que se ajuste a nuestras necesidades, y luego trazaremos un mapa coroplético que represente visualmente la población en todo el país. Finalmente, ajustaremos el diseño del mapa para resaltar de manera clara y efectiva la población de los Estados Unidos por estado.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importemos los datos</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/us_state_population.tsv&#39;</span>
<span class="n">df_pob</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">df_pob</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Utilice la función <code class="docutils literal notranslate"><span class="pre">melt</span></code> para convertir los datos al formato deseado</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_pob</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">df_pob</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">,</span> <span class="s1">&#39;Code&#39;</span><span class="p">],</span> <span class="n">var_name</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;Population&quot;</span><span class="p">)</span>
<span class="n">df_pob</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Importar el módulo <code class="docutils literal notranslate"><span class="pre">graph_objects</span></code></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
</pre></div>
</div>
</div>
</div>
<p>Inicializaremos la figura utilizando la función <code class="docutils literal notranslate"><span class="pre">Figure</span></code> de <code class="docutils literal notranslate"><span class="pre">graph_objects</span></code>. En particular, el argumento data debe contener una instancia de la clase <code class="docutils literal notranslate"><span class="pre">Choropleth</span></code>, que nos permitirá definir los parámetros clave para generar el mapa coroplético.</p>
<p>Los parámetros principales son:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">locations</span></code>: Define la columna del DataFrame que contiene los códigos o nombres de los estados que se representarán en el mapa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z</span></code>: Se establece en la columna que contiene la variable numérica que queremos representar en el mapa, la cual será codificada por colores.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">locationmode</span></code>: Este parámetro se ajusta a <code class="docutils literal notranslate"><span class="pre">USA-states</span></code> para indicar que el mapa debe mostrar los estados de EE. UU.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colorscale</span></code>: Se selecciona un esquema de colores predefinido, como <code class="docutils literal notranslate"><span class="pre">Blues</span></code>, <code class="docutils literal notranslate"><span class="pre">Reds</span></code> o <code class="docutils literal notranslate"><span class="pre">Greens</span></code>, para representar las variaciones en los valores de la característica numérica. Puedes consultar más opciones en la <a class="reference external" href="https://plotly.com/python/builtin-colorscales/">documentación oficial de Plotly</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">colorbar_title</span></code>: Define el título de la barra de colores que aparecerá a la derecha del gráfico, indicando cómo los colores se corresponden con los valores numéricos.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inicializar la figura</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Choropleth</span><span class="p">(</span>
        <span class="n">locations</span><span class="o">=</span><span class="c1"># TU CODIGO,  # Columna con los códigos de los estados de EE. UU.</span>
        <span class="n">z</span><span class="o">=</span><span class="c1"># TU CODIGO,  # Columna con los datos de población para codificar por colores</span>
        <span class="n">locationmode</span><span class="o">=</span><span class="s1">&#39;USA-states&#39;</span><span class="p">,</span>  <span class="c1"># Definir que las ubicaciones corresponden a los estados de EE. UU.</span>
        <span class="n">colorscale</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span>  <span class="c1"># Esquema de colores para representar los valores</span>
        <span class="n">colorbar_title</span><span class="o">=</span><span class="s2">&quot;Población&quot;</span>  <span class="c1"># Título de la barra de colores (población)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Actualizar el diseño</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Población de los EE. UU. por estados&#39;</span><span class="p">,</span>  <span class="c1"># Título del gráfico</span>
    <span class="n">geo_scope</span><span class="o">=</span><span class="s1">&#39;usa&#39;</span>  <span class="c1"># Limitar el mapa al territorio de los EE. UU.</span>
<span class="p">)</span>

<span class="c1"># Mostrar la figura</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora, podemos visualizar un gráfico que represente la <strong>cantidad de hectáreas por departamento</strong>, para el caso de <strong>Colombia</strong>. Para sus proyectos de investigación es necesario que obtengan el archivo <code class="docutils literal notranslate"><span class="pre">Colombia.geo.json</span></code> con la información que se requiere.</p>
<ol class="arabic simple">
<li><p>Carguemos los paquetes</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">json</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Carguemos el GeoJSON</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cargar el archivo GeoJSON desde la ruta local</span>
<span class="n">geojson_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/Colombia.geo.json&#39;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">geojson_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>  <span class="c1"># Abrir el archivo local</span>
    <span class="n">counties</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Almacenemos en una lista los deptos y las hectarias</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">locs</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Lista para almacenar los nombres de los departamentos</span>
<span class="n">z_id</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Lista para almacenar los valores de hectáreas</span>

<span class="c1"># Recorrer los features del GeoJSON</span>
<span class="k">for</span> <span class="n">loc</span> <span class="ow">in</span> <span class="n">counties</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]:</span>
    <span class="n">loc</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loc</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;NOMBRE_DPT&#39;</span><span class="p">]</span>  <span class="c1"># Asignar el nombre del departamento como ID</span>
    <span class="n">locs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;NOMBRE_DPT&#39;</span><span class="p">])</span>  <span class="c1"># Agregar el nombre del departamento a locs</span>
    <span class="n">z_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;HECTARES&#39;</span><span class="p">])</span>  <span class="c1"># Agregar el valor de hectáreas a z_id</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Creamos el mapa coroplético de Colombia</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear el mapa coroplético</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Choroplethmapbox</span><span class="p">(</span>
                    <span class="n">geojson</span><span class="o">=</span><span class="c1"># TU CODIGO,</span>
                    <span class="n">locations</span><span class="o">=</span><span class="n">locs</span><span class="p">,</span>
                    <span class="n">z</span><span class="o">=</span><span class="n">z_id</span><span class="p">,</span>
                    <span class="n">colorscale</span><span class="o">=</span><span class="s1">&#39;Viridis&#39;</span><span class="p">,</span>  <span class="c1"># Esquema de colores Viridis</span>
                    <span class="n">colorbar_title</span><span class="o">=</span><span class="s2">&quot;Hectáreas&quot;</span>  <span class="c1"># Título de la barra de color</span>
                <span class="p">))</span>

<span class="c1"># Actualizar el layout del mapa</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">mapbox_style</span><span class="o">=</span><span class="s2">&quot;open-street-map&quot;</span><span class="p">,</span>  <span class="c1"># Usar el estilo de mapa de Open Street Map</span>
    <span class="n">mapbox_zoom</span><span class="o">=</span><span class="mf">3.78</span><span class="p">,</span>  <span class="c1"># Zoom en el mapa</span>
    <span class="n">mapbox_center</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">4.570868</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">74.2973328</span><span class="p">}</span>  <span class="c1"># Centrar el mapa en Colombia</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora, solo Colombia</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Choroplethmapbox</span><span class="p">(</span>
                    <span class="n">geojson</span><span class="o">=</span><span class="c1"># TU CODIGO,  # GeoJSON con la geometría de los departamentos</span>
                    <span class="n">locations</span><span class="o">=</span><span class="n">locs</span><span class="p">,</span>  <span class="c1"># Nombres de los departamentos</span>
                    <span class="n">z</span><span class="o">=</span><span class="n">z_id</span><span class="p">,</span>  <span class="c1"># Valores (hectáreas) para colorear el mapa</span>
                    <span class="n">colorscale</span><span class="o">=</span><span class="s1">&#39;Viridis&#39;</span><span class="p">,</span>  <span class="c1"># Esquema de colores &#39;Viridis&#39;</span>
                    <span class="n">colorbar_title</span><span class="o">=</span><span class="s2">&quot;Hectáreas&quot;</span>  <span class="c1"># Título de la barra de color</span>
                <span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">mapbox_style</span><span class="o">=</span><span class="s2">&quot;white-bg&quot;</span><span class="p">,</span>  <span class="c1"># Estilo del mapa de fondo (blanco)</span>
    <span class="n">mapbox_zoom</span><span class="o">=</span><span class="mf">3.78</span><span class="p">,</span>  <span class="c1"># Nivel de zoom del mapa</span>
    <span class="n">mapbox_center</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">4.570868</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">74.2973328</span><span class="p">}</span>  <span class="c1"># Centrar el mapa en la latitud/longitud de Colombia</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  <span class="c1"># Mostrar el gráfico</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="construccion-de-un-grafico-de-gispersion-en-un-mapa-geografico">
<h3><strong>Construcción de un gráfico de gispersión en un mapa geográfico</strong><a class="headerlink" href="#construccion-de-un-grafico-de-gispersion-en-un-mapa-geografico" title="Link to this heading">#</a></h3>
<p>Vamos a trazar las ubicaciones de las tiendas <strong>Walmart</strong> en un mapa de los Estados Unidos, utilizando un conjunto de datos disponible públicamente sobre las aperturas de tiendas Walmart entre 1962 y 2006. Este ejemplo nos permitirá ver la ubicación exacta de las tiendas Walmart, y utilizaremos las coordenadas de latitud y longitud para representarlas en un gráfico de dispersión.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Leer los datos de ubicaciones de Walmart desde la URL</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/1962_2006_walmart_store_openings.csv&quot;</span>
<span class="n">df_walm</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="c1"># Crear el gráfico de dispersión</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Scattergeo</span><span class="p">(</span>
    <span class="n">lon</span><span class="o">=</span><span class="c1"># TU CODIGO,  # Columna de longitudes</span>
    <span class="n">lat</span><span class="o">=</span><span class="c1"># TU CODIGO,  # Columna de latitudes</span>
    <span class="n">text</span><span class="o">=</span><span class="n">d</span><span class="c1"># TU CODIGO,  # Información que aparece al pasar el cursor (dirección de las tiendas)</span>
    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span>  <span class="c1"># Usar marcadores para las ubicaciones</span>
<span class="p">))</span>

<span class="c1"># Configurar el diseño del mapa</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Tiendas Walmart en los EE.UU.&#39;</span><span class="p">,</span>
    <span class="n">geo_scope</span><span class="o">=</span><span class="s1">&#39;usa&#39;</span>  <span class="c1"># Limitar el mapa a los EE.UU.</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Este código genera un gráfico de dispersión que muestra las ubicaciones de las tiendas Walmart en los Estados Unidos. Las ubicaciones se representan con marcadores, y la información de la dirección aparece al pasar el cursor sobre los puntos.</p>
</section>
<section id="construccion-de-un-grafico-de-burbujas-en-un-mapa-geografico">
<h3><strong>Construcción de un gráfico de burbujas en un mapa geográfico</strong><a class="headerlink" href="#construccion-de-un-grafico-de-burbujas-en-un-mapa-geografico" title="Link to this heading">#</a></h3>
<p>Dado que hay muchas tiendas <strong>Walmart</strong> en el este de EE. UU., puede ser útil visualizar el número de tiendas Walmart por estado utilizando un gráfico de burbujas. En este tipo de gráfico, el tamaño de cada burbuja representa <strong>el número de tiendas en cada estado</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="c1"># Calcular el número de tiendas por estado</span>
<span class="n">walmart_stores_by_state</span> <span class="o">=</span> <span class="n">df_walm</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;STRSTATE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">&#39;storenum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;storenum&#39;</span><span class="p">:</span> <span class="s1">&#39;NUM_STORES&#39;</span><span class="p">})</span>

<span class="c1"># Crear el gráfico de burbujas</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_geo</span><span class="p">(</span><span class="n">walmart_stores_by_state</span><span class="p">,</span>
                     <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;# TU CODIGO&quot;</span><span class="p">,</span>  <span class="c1"># Columna con los códigos de estado</span>
                     <span class="n">size</span><span class="o">=</span><span class="s2">&quot;# TU CODIGO&quot;</span><span class="p">,</span>  <span class="c1"># Tamaño de las burbujas según el número de tiendas</span>
                     <span class="n">locationmode</span><span class="o">=</span><span class="s1">&#39;USA-states&#39;</span><span class="p">,</span>
                     <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;STRSTATE&quot;</span><span class="p">,</span>  <span class="c1"># Mostrar el código del estado al pasar el cursor</span>
                     <span class="n">size_max</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

<span class="c1"># Configurar el diseño del mapa</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Tiendas Walmart en los EE.UU. por estado&#39;</span><span class="p">,</span>
    <span class="n">geo_scope</span><span class="o">=</span><span class="s1">&#39;usa&#39;</span>  <span class="c1"># Limitar el mapa a los EE.UU.</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Este código genera un gráfico de burbujas donde el tamaño de cada burbuja representa el número de tiendas Walmart en cada estado de los EE.UU. Los estados con más tiendas tendrán burbujas más grandes.</p>
<p>Ahora, realizaremos el gráfico de burbujas para usuarios de internet a nivel mundial. Otra aplicación útil de los gráficos de burbujas es visualizar el <strong>número de usuarios de Internet por país</strong>. Utilizaremos un conjunto de datos sobre los usuarios de Internet en todo el mundo y generaremos un gráfico de burbujas que muestre el número de usuarios en cada país.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Leer los datos de usuarios de Internet por país</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/number-of-internet-users-by-country.csv&quot;</span>
<span class="n">df_int</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="c1"># Filtrar los datos para el año 2016</span>
<span class="n">df_int_2016</span> <span class="o">=</span> <span class="n">df_int</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;Year==2016&quot;</span><span class="p">)</span>

<span class="c1"># Crear el gráfico de burbujas</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_geo</span><span class="p">(</span><span class="n">df_int_2016</span><span class="p">,</span>
                     <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;Code&quot;</span><span class="p">,</span>  <span class="c1"># Columna con los códigos de país</span>
                     <span class="n">size</span><span class="o">=</span><span class="s2">&quot;Number of internet users (users)&quot;</span><span class="p">,</span>  <span class="c1"># Tamaño de las burbujas según el número de usuarios</span>
                     <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>  <span class="c1"># Mostrar el nombre del país al pasar el cursor</span>
                     <span class="n">size_max</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>  <span class="c1"># Máximo tamaño de las burbujas</span>
                     <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">Plasma</span><span class="p">)</span>

<span class="c1"># Configurar el diseño del mapa</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Usuarios de Internet en el mundo - 2016&#39;</span><span class="p">,</span>
    <span class="n">geo</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;natural earth&#39;</span><span class="p">})</span>  <span class="c1"># Usar la proyección &#39;natural earth&#39;</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Este gráfico de burbujas muestra la cantidad de usuarios de Internet por país en 2016. Las burbujas más grandes indican una mayor cantidad de usuarios.</p>
</section>
<section id="construccion-de-un-grafico-de-burbujas-con-animacion-del-crecimiento-de-usuarios-de-internet">
<h3><strong>Construcción de un gráfico de burbujas con animación del crecimiento de usuarios de internet</strong><a class="headerlink" href="#construccion-de-un-grafico-de-burbujas-con-animacion-del-crecimiento-de-usuarios-de-internet" title="Link to this heading">#</a></h3>
<p>Podemos añadir animación para visualizar cómo ha crecido el número de usuarios de Internet en diferentes países a lo largo de los años.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear el gráfico de burbujas animado</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_geo</span><span class="p">(</span><span class="n">df_int</span><span class="p">,</span>
                     <span class="n">locations</span><span class="o">=</span><span class="s2">&quot;Code&quot;</span><span class="p">,</span>  <span class="c1"># Columna con los códigos de país</span>
                     <span class="n">size</span><span class="o">=</span><span class="s2">&quot;Number of internet users (users)&quot;</span><span class="p">,</span>  <span class="c1"># Tamaño de las burbujas según el número de usuarios</span>
                     <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>  <span class="c1"># Mostrar el nombre del país al pasar el cursor</span>
                     <span class="n">size_max</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>  <span class="c1"># Máximo tamaño de las burbujas</span>
                     <span class="n">animation_frame</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>  <span class="c1"># Añadir animación por año</span>
                     <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">sequential</span><span class="o">.</span><span class="n">Plasma</span><span class="p">)</span>

<span class="c1"># Configurar el diseño del mapa</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Usuarios de Internet en el mundo a lo largo de los años&#39;</span><span class="p">,</span>
    <span class="n">geo</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;natural earth&#39;</span><span class="p">})</span>  <span class="c1"># Usar la proyección &#39;natural earth&#39;</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>                            <div id="0cb574b8-e27c-411b-9cb3-1b9d86e3a3bb" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0cb574b8-e27c-411b-9cb3-1b9d86e3a3bb")) {                    Plotly.newPlot(                        "0cb574b8-e27c-411b-9cb3-1b9d86e3a3bb",                        [{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1990\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[0,0,0,0,0,0,0,0,99709,10070,0,0,0,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,0,0,99970,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5001,0,0,0,0,0,0,0,0,0,0,20039,30063,0,0,0,0,99604,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4985,10023,0,25269,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50043,0,0,0,0,0,0,30041,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9986,5060,0,0,0,0,0,50050,39763,0,0,0,0,0,0,0,0,0,0,0,0,0,49953,1981674,0,0,0,0,0,0,2630452,0,0,0],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"geo":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{},"projection":{"type":"natural earth"}},"legend":{"tracegroupgap":0,"itemsizing":"constant"},"margin":{"t":60},"updatemenus":[{"buttons":[{"args":[null,{"frame":{"duration":500,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":500,"easing":"linear"}}],"label":"&#9654;","method":"animate"},{"args":[[null],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"&#9724;","method":"animate"}],"direction":"left","pad":{"r":10,"t":70},"showactive":false,"type":"buttons","x":0.1,"xanchor":"right","y":0,"yanchor":"top"}],"sliders":[{"active":0,"currentvalue":{"prefix":"Year="},"len":0.9,"pad":{"b":10,"t":60},"steps":[{"args":[["1990"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1990","method":"animate"},{"args":[["2001"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2001","method":"animate"},{"args":[["2002"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2002","method":"animate"},{"args":[["2003"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2003","method":"animate"},{"args":[["2004"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2004","method":"animate"},{"args":[["2005"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2005","method":"animate"},{"args":[["2006"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2006","method":"animate"},{"args":[["2007"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2007","method":"animate"},{"args":[["2008"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2008","method":"animate"},{"args":[["2009"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2009","method":"animate"},{"args":[["2010"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2010","method":"animate"},{"args":[["2011"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2011","method":"animate"},{"args":[["2012"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2012","method":"animate"},{"args":[["2013"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2013","method":"animate"},{"args":[["2014"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2014","method":"animate"},{"args":[["2015"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2015","method":"animate"},{"args":[["2016"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2016","method":"animate"},{"args":[["1995"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1995","method":"animate"},{"args":[["1996"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1996","method":"animate"},{"args":[["1997"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1997","method":"animate"},{"args":[["1998"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1998","method":"animate"},{"args":[["1999"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1999","method":"animate"},{"args":[["2000"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2000","method":"animate"},{"args":[["1994"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1994","method":"animate"},{"args":[["1992"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1992","method":"animate"},{"args":[["1993"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1993","method":"animate"},{"args":[["1991"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1991","method":"animate"},{"args":[["2017"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2017","method":"animate"}],"x":0.1,"xanchor":"left","y":0,"yanchor":"top"}],"title":{"text":"Usuarios de Internet en el mundo a lo largo de los a\u00f1os"}},                        {"responsive": true}                    ).then(function(){
                            Plotly.addFrames('0cb574b8-e27c-411b-9cb3-1b9d86e3a3bb', [{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1990\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[0,0,0,0,0,0,0,0,99709,10070,0,0,0,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,0,0,99970,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5001,0,0,0,0,0,0,0,0,0,0,20039,30063,0,0,0,0,99604,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4985,10023,0,25269,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50043,0,0,0,0,0,0,30041,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9986,5060,0,0,0,0,0,50050,39763,0,0,0,0,0,0,0,0,0,0,0,0,0,49953,1981674,0,0,0,0,0,0,2630452,0,0,0],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1990"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2001\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[990,10173,204121,23100,7569,3665016,49759,15886,10152449,3173139,25048,35770,104902,174082,32310,424598,3228655,25718,5098,180162,45275,60210,8049430,43936,603697,18840,6949,9544,43419,18676889,11915,3010,3979,2949989,34076238,1169905,2463,1068,382073,67436,509511,120787,180713,1509577,5554,2301691,2517,385230,343226,597555,88589,1057,5519,438777,25453,15128,2241685,15772178,15083,17010,16984,46364,25806862,38845,1223017,5223,39695,207280,15748,3797,99351,29627,94726,2599610,1481042,139736,7073322,4330058,995859,24252,904564,1065228,15654450,103413,49214502,244391,151321,200323,2007,180388,149024,9836,170281,227907,4925,1011,19941,249383,159191,98661,70850,36182,19184,6326654,10383,20994,71360,7296,104837,7253884,4994,62272,40005,400211,29748,135,46735,57992,7908633,39582,2080623,73900,12382,112793,0,2894813,135251,1867087,60777,224571,51680,59408,1990286,2010757,3814134,1880938,593927,38064,997787,4293326,20047,12965,5502,2967,8938,997232,99703,9095,7595,1674642,676530,600002,1986,7343,2943880,27005438,7512138,150136,4307745,39175,14640,13751,4606002,3968679,3243,60156,3530674,46006,2786,195751,420586,3331205,7997,59141,599595,873807,19803848,139807922,19973,370022,150519,5358,1156612,1026948,502668939,16699,25234,98910],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2001"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2002\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[1003,12167,509246,47512,10783,4123168,59477,17858,2973941,413827,55648,132700,191132,75569,877834,4802051,14904,51283,10162,269741,99993,60268,16482783,53174,714241,24708,7970,28679,58046,19291569,15909,5023,14949,3452823,59681957,1912335,3160,5358,808368,86473,780697,422984,276677,2453409,46243,3452025,3634,602691,556974,1974451,112866,2140,8208,574110,51042,50187,3254709,18175928,20091,25105,23562,73437,39842914,165430,1645504,15069,49026,414093,36734,13233,78932,178264,2912150,1694984,225752,16759877,4641917,3145028,124696,1027870,1108384,16207614,164422,59595203,318599,252985,401150,2184,219721,149684,14727,511749,246599,20620,1002,124061,609377,176780,112996,355079,56954,25841,7825461,15741,26426,116057,10436,123217,12418317,5959,158179,49840,700403,49689,201,51677,76882,9874037,49501,2341492,88681,15520,412328,0,3311320,160445,3728355,104754,268257,77480,98878,2385340,3524396,8139466,2022938,666114,66026,1438038,5994039,24993,23392,6002,3964,10984,1398653,104640,12045,8735,1941668,2167622,553511,2185,11058,3155608,28514843,8560848,200203,5678149,126040,20102,19632,6295334,4447763,3576,80330,4825510,0,52515,2884,281107,518162,7413280,13928,98781,899082,993125,33520289,169012061,29847,380014,276023,6808,1247681,1520292,664809555,98152,53128,137506],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2002"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2003\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Austria","Bahamas","Bahrain","Bangladesh","Barbados","Belgium","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUT","BHS","BHR","BGD","BRB","BEL","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[20272,30236,711374,67477,15039,4564063,138071,20180,3491089,63149,167851,227821,108058,5206390,71545,15193,309122,149849,60359,24101487,69247,939587,47257,13995,33491,97039,20305051,19901,6035,29959,4024740,80993322,3114590,4947,16112,838959,134128,998485,589375,298963,3512072,69333,4108102,4748,708309,592747,2987306,149288,3616,622202,76761,54922,3618201,21882805,35099,35323,32999,117170,45662751,243942,2001355,19088,53176,568629,41984,17892,147876,337623,3540505,2193705,239403,18686779,5264458,4771282,153766,1389400,1244086,16885900,211576,62029977,456891,304710,1004097,2667,485946,195918,18631,622098,296117,29395,993,158062,884659,244014,118452,391588,73134,34397,8633924,18062,37260,127576,12538,147341,13627618,9862,309017,1000777,82719,11461,66744,95514,10425312,59426,2451955,98550,19707,737167,0,3570624,173068,7445962,142126,320514,82612,118437,3124778,4033420,9559736,3111526,746358,132500,1933874,11998882,30982,33776,7002,4974,15077,1804871,224244,12536,9888,2287733,2324111,633581,2482,37004,3339076,31613592,17031505,280271,7785382,158504,23049,26501,7083260,4747022,4248,251485,6002983,64697,2980,333491,645169,8148380,19795,123765,1497897,1103045,38619900,178938683,29720,530011,494036,7766,1940130,3128094,780750279,117694,111991,227410],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2003"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2004\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Austria","Bahamas","Bahrain","Bangladesh","Barbados","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUT","BHS","BHR","BGD","BRB","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[25520,74977,1521549,87691,21417,6210799,147000,22710,4460082,70956,178074,281253,135999,5644591,27057,91647,20214,398161,584926,60457,35236408,106834,1403854,52161,25071,39247,165533,21072546,24874,9059,35045,4501077,95922546,3895884,7927,38849,870582,152852,1355070,947323,341822,3635035,104058,4372454,6022,807031,653116,8985522,192025,6117,725417,115917,60664,3794818,23837107,45029,40641,46265,176175,52894546,360296,2414136,20090,57171,652643,48288,24416,492551,403433,3836657,2805923,244178,22253980,5814620,5214321,236849,1527224,1472983,19443640,272878,79997523,645381,407787,1060500,3169,506217,256450,20474,879182,347694,42069,985,201540,1055923,297658,148433,502742,93529,44050,10636631,20451,53635,140213,14650,166415,15086377,11743,442856,155940,3503192,138014,11700,76445,113853,11159977,69347,2523654,123220,24933,1741348,0,3572352,165237,9294582,154210,364255,92910,196918,3845520,4440226,12490240,3345884,835736,157095,3238675,18523256,37995,34714,8002,5498,20247,2377368,480530,21234,11043,2709425,2855753,812703,2978,106570,4064900,35258106,19079069,280158,10838288,238943,29993,35356,7542247,4981433,5201,335672,6940485,83019,3968,348758,854383,9769745,35466,198485,1647591,1231747,39289976,189443366,29591,567194,678527,9690,2212664,6383526,912821319,176395,236225,268328],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2004"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2005\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[306904,186102,1945357,223557,24098,6936809,156605,25408,12750509,4787117,685682,82312,189426,346583,143855,5887272,48157,101457,25262,477038,806476,60548,39295164,133160,1534447,63072,40245,42109,244354,23137566,28826,11071,40193,5033903,112645367,4764564,12233,54414,937499,190558,1450888,1098868,337175,3618059,130329,4485916,7469,1060768,823325,9789214,253216,8708,833046,168539,69473,3916849,26250973,54908,68659,54865,272758,56116305,394477,2712289,21092,61080,746474,52489,26255,590653,479273,3884996,3930695,256632,27322412,8166249,5704167,243076,1753020,1663555,20582969,351318,85883663,738998,460292,1118181,3693,590240,534630,48930,1035912,404267,50303,226945,1211288,320489,168234,544942,104102,50136,12477950,21903,64898,167759,20975,185405,18668070,12618,608283,167041,4603934,178758,31630,81492,211930,13257398,75295,2593703,138052,30143,4931178,0,3798075,167843,9746067,572366,382471,108372,458250,4721380,4656770,14888551,3696946,881105,213911,4607669,21868272,49998,35309,10003,6032,21414,3037222,538563,22553,12188,2739536,2979688,934459,3967,112149,3655950,35800745,21087612,349889,15048748,399395,31948,40884,7667464,5194626,20473,433516,9830834,1017,102299,4959,375809,975403,10497867,47416,497294,1758346,1831825,42200728,200593775,29475,668055,886437,10641,3362215,10740887,1029023007,215832,343698,310561],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2005"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2006\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[545607,293521,2491454,303936,27090,8278569,166616,28233,13578580,5269091,1034948,87316,270694,1453680,152097,1551157,6342005,69779,126364,30373,575629,949493,80833,53260636,156195,2065601,87498,50472,63109,363136,23635330,32737,13074,60554,5629961,139874702,6725134,13781,77154,1081507,285148,1659991,1260615,374606,4935969,167398,4717489,10112,1391168,1005659,10676526,333106,10134,856939,244904,79432,4204112,28868585,64736,79310,78095,334110,58839519,602187,3656753,22093,69569,870806,62993,29061,639467,588230,4171109,4732305,268287,32599283,10951361,6239562,263779,2359107,1883425,22444442,452686,88214549,822906,512835,1333874,4242,684441,630942,68431,1193387,608603,58571,252964,1450312,337573,228900,590472,114707,57093,13500012,36130,96508,165100,31551,205092,21490032,13475,813223,178553,6103238,181635,88924,90429,296083,13760466,79243,2888283,152910,41553,7908003,0,3857619,214381,10211110,673689,588481,113520,468393,5785638,5040775,17092434,4029041,955392,292749,5238751,25831490,40525,13069,8093,22596,4782828,648535,31338,13316,2721022,3027502,1082248,7926,117925,3755233,38187655,22528250,499143,20467911,47907,41420,7982881,5663425,264089,528254,11295897,5243,116756,5953,390992,1324112,12542445,63473,747444,2100593,2725857,41844488,205295950,29375,979327,1717837,12557,4147085,14682703,1158678340,264046,515141,314982],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2006"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2007\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[505719,454678,3241766,356961,31070,10370927,176607,31277,14547458,5765884,1268514,92429,340912,2648505,160719,1878762,6893685,73408,151341,40668,991280,1053701,101081,58989026,167489,2545522,106890,55577,67016,538985,24170590,40293,16069,91294,5920516,213888081,9673657,16041,109733,1240929,343547,1807723,1321401,433675,5378175,216145,4651104,13112,1678469,1534189,12749822,371700,12914,17029,889641,299702,90976,4279736,40949992,74504,85882,95503,362658,61138494,873958,4083466,23089,73312,1000121,78757,31902,103206,688096,724549,4470161,5342732,276511,46597409,13481392,6821345,264031,2689788,3331754,24193981,585624,95479401,1238638,636822,1675780,5779,871187,728118,97577,1300863,765804,68298,19369,281920,1626785,374651,238444,749761,126318,133685,14830596,54779,110772,192442,47491,249497,23273144,14313,844309,233250,190801,6713564,201914,106766,100577,369629,14166355,84165,2953046,215362,57264,9912433,0,4102790,444149,10902642,794495,769854,118677,668806,7129766,5330821,18628178,4474218,1043429,440164,5953219,35300825,199849,46673,17448,8659,23797,7575771,818088,34650,14427,3308037,3336165,1142482,9859,123879,4023588,38661194,25016555,768659,26629659,2795667,71919,46676,7514776,5836596,514801,670779,13258982,10650,131942,7349,422891,1760973,19925702,68492,1123272,3038306,3686881,46116268,225446381,29292,1135512,2044364,14957,5768236,17826766,1369818178,1089755,619755,399897],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2007"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2008\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[502210,713808,3548821,413429,35142,11352549,180600,52704,15296165,6076231,1506782,109972,579030,3720145,170274,2186686,7114254,80521,160893,45912,1199982,1304463,121647,65284806,174456,2979348,135145,66519,70791,642838,25621288,68841,43454,132493,6214904,303837841,11494795,19717,176450,1430288,370462,1925514,1463482,457609,6563863,265644,4674225,18598,2006323,2716142,14579794,615918,15805,19893,945569,374332,109634,4451162,44054538,89139,115231,109294,434485,63282136,994852,4362305,24091,77003,1162528,94973,34872,135829,737582,755775,4629195,6094633,282904,52435034,18697862,8756034,291114,2933497,4215152,26496412,658469,96927083,1492659,1760129,2035718,6891,1113983,826180,214853,1377190,926219,71597,19414,544777,1775117,398902,253265,951821,329942,99899,15127977,80053,221970,206394,63721,270290,24675979,15139,961666,257557,204376,10458559,356409,108855,112249,458032,14484387,84131,3081677,296509,106600,12027791,0,4321465,551803,11455122,938346,1189202,78053,862924,8755853,5644766,20362439,4700771,1419599,615479,6750195,38389219,436868,50766,22925,9234,25838,9338677,868922,36673,15413,3347265,3565944,1174232,15134,129915,4249742,39867378,27414692,1156858,31038075,108490,79384,8313201,6055721,641794,822133,12111328,16172,147883,8354,457749,2865140,24210239,86376,2501448,5080507,4343395,48661550,224496810,29222,1316874,2516629,16380,7283072,20740506,1558290574,1540355,726080,474546],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2008"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2009\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[994154,1220606,3982805,518640,39304,13871798,441953,58843,16141237,6147793,2445288,120225,628065,4664096,180170,2602075,7602203,85389,200361,51227,1639470,1413952,121763,76438210,188048,3355214,171094,76401,74678,746210,27133234,104362,79276,172542,6994316,390747678,13624854,23564,191417,1540821,398727,2195720,1621956,546952,6756674,349493,4799167,33474,2707623,3614054,16493004,743224,19364,23276,968477,461248,144834,4407149,44871728,118449,150742,125098,860541,63962833,1300368,4852183,25083,80638,1331407,99231,34951,178221,798082,787432,4846391,6174544,293960,62170631,16562361,10168884,316883,3077962,4587495,29123117,681392,100281994,1773490,2945518,2454469,9021,1432021,854525,369122,1433925,1260803,75115,76231,661074,1893658,433301,283669,1071169,335277,157446,15431409,87916,262919,243707,79943,280030,30424077,15958,1126411,266829,218621,13211827,630445,109562,138908,526800,14902714,84096,3445815,413660,120186,14359403,0,4444867,772628,12528719,1275658,1398824,111854,1158161,9106473,8299879,22600176,5145879,1546427,844704,7546172,41496902,768263,53017,33868,11090,28030,10131367,941319,16407,3426207,3780503,1302671,20643,135884,5097082,40293434,29001069,1762593,37808955,163266,105552,8475265,6290312,752513,1071942,13443255,21840,164592,10360,585477,3584789,25967463,97655,3205091,8232930,4906492,52411010,217314217,29169,1405632,3350481,17309,9348055,23248616,1742929484,2288303,849100,552424],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2009"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2010\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[1152127,1323236,4514705,654336,44491,18550750,719328,63035,16811249,6321759,4154930,155158,682474,5629517,181999,3012437,8204054,90693,287937,98959,2221686,1591191,120892,79997683,205991,3423142,374525,87669,180290,858731,27437440,150715,88971,202082,7647009,466396000,16760105,35174,219335,1659027,550836,2447571,1801955,589570,7251072,464567,4928258,55324,3107967,4335541,18167243,980176,57066,26784,987088,657770,171990,4662328,48707065,131232,213227,155678,1138317,66333724,1911944,5082026,28263,86164,1536194,107942,38119,223220,836968,908801,5058159,6453096,299154,92323552,26483634,11856234,769068,3231909,5012522,32062960,779522,100540420,1953610,5182076,2977211,9311,1840823,883841,437239,1449716,1894463,78765,90807,863680,1940506,460249,296396,1074714,359578,342776,15827219,96705,301502,262149,144382,353546,36427531,20723,1319287,276690,234107,16853012,1010033,125390,252088,2142935,15134742,105436,3516152,573772,136332,18236500,0,4562921,1089688,13644815,1520994,1460932,90985,1229556,10213217,23431656,23883144,5677687,1683662,1227976,8161831,61556164,819747,56089,36839,13034,32771,11244527,1033298,37476,37461,3602719,4091591,1431618,26390,12380319,41475740,30786919,2423802,59096809,5742456,166196,132794,8451151,6571024,882608,1336859,15054773,33288,195089,16662,644129,3915495,28800577,152616,4239392,10669653,5624065,53810817,221265013,33140,1565729,4548401,18904,10847776,27116825,1999332784,2915437,1385003,901524],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2010"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2011\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[1485430,1434063,5486114,750776,49774,21245008,920186,70417,17868675,6661296,4573190,238269,984267,6926036,186600,3754156,8987777,101062,392465,106633,3023503,1618958,184621,90779948,220647,3529510,482457,100383,450674,1026022,28667056,162581,98475,233484,8962562,523744941,18725507,38861,252713,1803947,605964,2492696,1818707,639580,7449887,800563,5013979,60616,3810296,4760652,21989776,1170394,114343,31323,1016263,990514,242784,4780796,49293971,132223,305478,189835,1314780,65775045,2260962,5899878,31523,92134,1838717,220703,42649,224730,913055,1327904,5101518,6732757,306664,125596668,30172882,14343401,1586353,3491804,5212908,32503424,1059323,101588804,2643655,8423574,3738842,10466,2098725,963655,570014,1459513,2385951,144492,101754,867090,1960036,468102,330783,1175041,413135,520400,17467428,127545,341902,284572,167295,437233,44273257,23591,1549400,345189,222738,15150376,1072377,495420,265875,2459443,15300967,127329,3589038,615629,153582,22477036,0,4625506,1553889,15676584,1716682,1583223,145387,1558562,10716572,27630603,23739826,5870494,1779352,1346917,8119215,70199354,736125,59103,40128,20643,36048,13413060,1303489,39639,59505,3674972,4027090,1382784,32377,155059,17753916,41665689,31471340,3047253,72826152,6140213,170108,222139,8781507,6756166,1018418,1522269,15984332,45261,233775,26144,736803,4207734,31614303,258703,4566927,13084166,6764531,54482584,216894445,37680,1740369,5406690,22252,11850136,31365431,2192101639,3614791,1640447,1208479],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2011"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2012\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[1674380,1595975,6836984,1631250,56131,23489980,1080721,75907,18029261,6816593,5021585,266931,1144191,7786353,200489,4443189,8946641,104377,437812,117463,3618464,1644043,334290,97392413,240940,3794088,617284,113700,729977,1581179,28967585,178556,134712,266808,9529015,581710631,22962546,43253,282945,2210708,1070930,2661267,2413015,688868,7773855,1158815,5176396,72850,4297575,5417722,23182700,1264244,144813,36488,1038615,2680881,294772,4865186,51828313,143667,421636,224351,1517391,66758038,2727703,6266005,33754,98438,2443369,349726,47408,229693,1008343,1541223,5180565,6966023,313188,158894454,36137845,17377897,2327137,3598407,5450966,33349398,959971,102094352,2957252,10475331,4582896,11457,2392169,1107633,689482,1510932,3011287,208993,108721,2041940,489529,344888,1191533,513971,700329,19194160,150349,448187,286978,191512,443944,48029252,26884,1766765,461533,356030,18472270,1540596,2039461,292985,3082773,15590352,149799,3647665,793410,186182,26934863,0,4743864,2078786,17719989,1864013,1520566,260079,1871663,11520725,35099725,23875573,6385071,2551327,1461931,9254571,91502341,865682,60878,43731,24449,39454,15706633,1479979,43444,169153,3795090,4155434,1408276,38593,175719,21729267,41994852,32711154,3734712,91651962,7557940,186265,259389,8890216,6842983,1160083,1938778,17951517,80973,274379,31485,798462,4511609,33653381,379063,5119258,15994710,7565384,56206188,234061561,42801,1849673,6971633,26228,14662581,33286292,2437368309,4345918,1979817,1765299],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2012"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2013\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","SSD","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[1872170,1669655,8626176,2313852,62020,25481415,1212380,81415,19320093,6915305,6851264,271613,1183870,10446977,202841,5134721,9163220,115645,490218,171351,3847058,1749193,638552,103309366,261687,3855523,1553618,121367,1021543,2165572,30249215,195040,152988,328340,10128530,633319291,24476321,48198,313592,2163062,2635957,2855333,3187418,748735,7851612,1568953,5335049,85185,4719115,6308334,26403385,1444511,177734,41859,1057305,4364835,309660,4975287,52363068,155364,554959,260305,1751879,68400867,3951938,6777643,37068,104885,3072454,519148,52126,235005,1105768,1541086,5304240,7149393,315736,193062893,37653620,23191898,3117249,3663531,5494351,34881495,1058020,113196925,3483174,10892921,5827490,12482,2715341,1307276,811820,1535372,3719652,317604,137161,1022335,2051762,510820,378903,1354212,688834,837146,16949918,175252,576724,291675,244663,503582,53254132,28829,2443178,507831,378200,18941871,1928107,4115856,321996,3722046,15821975,172847,3739609,921591,211903,32819397,4825957,2466279,19806673,2057224,1690075,387236,2385858,11981761,47368415,24077183,6537222,2545219,1919653,9986840,97603037,995864,63238,47554,29186,43020,18116408,1849762,46754,276883,4337027,4225232,1501564,45081,196985,25001839,42528466,428094,33451792,4495464,113117208,8364931,202910,314050,9113677,7021751,1308449,2228010,19720603,130280,316933,34499,860182,4824376,35051642,515163,5820828,18476777,7925511,58076224,225293187,47706,1966078,8045289,28605,16644499,35226624,2649104793,5115264,2333594,2333448],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2013"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2014\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","SSD","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[2293061,1755386,11538427,2745888,67017,27809040,1587459,86959,19718721,6992548,7127830,293964,1209481,22157334,212992,5597959,9536287,136106,617203,235264,3654507,1780067,796837,111400310,283129,4007568,1653082,136507,2137911,3606172,31018839,211944,162554,393514,10763792,665862876,25124208,53005,346335,2521515,4342744,2919390,3325561,798896,7867467,2211686,5436791,97693,5159217,7250291,31119506,1555330,213009,46986,1110606,7497242,331291,4724315,53759659,167164,714107,298418,1756632,70235938,6880236,7120433,54882,111502,3726113,755553,57295,244286,1205261,1680798,5746029,7424102,322415,271710452,43729473,30854765,4624303,3912712,5957407,33152548,1156361,114201877,4069899,11541934,7594001,13531,2976788,1634202,937794,1528828,4090394,472073,237539,1101850,2136380,526664,410851,1413943,872823,995113,19244796,201184,1187399,311390,434839,563275,55141968,30840,2726859,583096,382881,19492671,2513421,5981666,351855,4373108,15481910,185848,3904529,1058463,239099,37056705,4950119,2781362,22265551,2435236,1753671,504126,2817611,12451288,49650716,25503178,6763327,2172356,10801256,101380524,1202608,70039,51835,40765,46688,19916742,2574662,47797,428806,4305783,4345186,1482518,51795,220264,26724390,44115997,520756,35444980,5320880,138535761,9298622,219610,338992,8964611,7192696,1462644,3656441,23870612,212242,412048,38033,881775,5144028,39316433,666881,6562834,20752290,8200064,59560870,231934709,52629,2101653,10827364,48664,17520875,37943415,2902737310,5918547,2967985,2522081],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2014"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2015\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","SSD","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[2786634,1849106,15230924,3454554,69946,29542778,1723987,92510,20125028,7284877,7405463,301734,1282387,23212928,216318,6383925,9600720,149428,1190322,313380,3813949,1859915,824297,120133479,297290,4066447,2062374,496319,3464690,4722213,31804708,227447,172752,490329,13611542,702705362,26962240,57989,380467,2873314,8882897,2956870,4275698,832611,8023744,2895471,5479948,110570,5708049,7901124,35466326,1691909,250593,52528,1162899,13837584,379163,4737632,50283063,179277,883722,326302,1879730,71567689,8674205,7497417,57481,118338,4681665,991506,62689,261295,1306503,2474964,6155104,7126092,324299,340354035,56733881,35978058,6219115,3924345,6238096,34596781,1212566,116531474,5506058,12572064,7841219,14610,3051156,1774110,1212842,1578201,4330094,543661,265652,1185644,2092750,546225,466332,1463421,1011524,1634020,21833124,227870,1804435,324817,635679,631483,72300485,32898,2805526,669797,427912,19865736,4743200,11385134,623075,5038238,15536692,199132,4071073,1198422,492693,44389527,5033977,3088120,26513272,2677623,2032471,625666,3300970,12833058,54621685,26019206,7150500,2331715,2304973,11083840,100865491,2093320,75367,56665,49228,50492,21968896,3248550,50864,459147,4373574,4222798,1516643,58751,244783,28706715,45483702,653517,36510136,6211879,175112830,10284180,236573,338235,8846786,7278055,1622534,5387996,26993509,285425,528076,41111,941163,5242252,42066986,834613,7159781,21830759,8284643,60165510,238520635,57568,2216783,13257737,59142,19275447,40703632,3175188441,6482879,3381123,3588237],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2015"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2016\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Afghanistan","Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Timor","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["AFG","ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CUW","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","NOR","OMN","PAK","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","SSD","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[3672058,1942025,17438483,3745750,73703,31118074,1882003,98053,21288325,7346364,7605244,312986,1396667,29733670,226713,6741547,9826872,163572,1304029,333248,4322219,2119233,885770,126403573,380876,4266455,2603042,544479,5106764,5859797,33081802,271522,183785,722627,14965390,746662194,28285392,63157,416317,3207196,9765088,3062930,4932377,98580,888129,8115380,4889495,5538674,123775,6801383,8858247,39469731,1839784,290470,58322,1144939,15736221,417986,4826448,51304091,191776,951332,377123,2326195,73434128,9778145,7726596,59943,125446,5722498,1214801,68296,275760,1326911,2733860,6388370,7730392,326623,391255067,66453884,42729084,7898106,4017692,6525047,36444965,1278367,119039541,5891172,13416643,8044620,15672,3175904,2054728,1478052,1573312,4571675,602965,337691,1275778,2163058,565019,499791,1501732,1173445,2075104,24571919,252772,1999620,331851,774183,658723,75938137,34999,2882322,674073,439287,20556219,5051281,13260073,769538,5706349,15358408,4123448,1511150,893643,47743541,5112723,3400430,29974665,2930876,2178424,776284,3591314,14444940,57342723,28018760,7304070,2517649,2423097,11768741,105225728,2383502,83185,60934,57390,55975,24168034,3955355,53253,870767,4748163,4381283,1568755,65941,269178,30248355,47156754,816980,37338225,6666125,197652432,11082072,253499,383770,8819442,7488864,1788044,7224386,32713589,320292,860281,42795,1000475,5656011,46393699,1018710,9075978,23552471,8398269,62351648,245425910,62537,2286820,14714360,64896,18940907,43974618,3419398061,6779981,4231896,3733962],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2016"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1995\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Albania","Algeria","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Barbados","Belarus","Belgium","Belize","Bolivia","Botswana","Brazil","Brunei","Bulgaria","Burundi","Canada","Chile","China","Colombia","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kuwait","Lebanon","Luxembourg","Macao","Macedonia","Malaysia","Maldives","Malta","Mexico","Moldova","Mongolia","Morocco","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Norway","Pakistan","Panama","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Saint Lucia","Saint Vincent and the Grenadines","Saudi Arabia","Senegal","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Venezuela","World","Zambia","Zimbabwe"],"legendgroup":"","locations":["ALB","DZA","ATG","ARG","ARM","AUS","AUT","AZE","BHS","BHR","BRB","BLR","BEL","BLZ","BOL","BWA","BRA","BRN","BGR","BDI","CAN","CHL","CHN","COL","CRI","CIV","HRV","CUB","CYP","CZE","DNK","DJI","DOM","ECU","EGY","ERI","EST","ETH","FJI","FIN","FRA","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","HND","HKG","HUN","ISL","IND","IDN","IRN","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KWT","LBN","LUX","MAC","MKD","MYS","MDV","MLT","MEX","MDA","MNG","MAR","NAM","NPL","NLD","NCL","NZL","NIC","NOR","PAK","PAN","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","LCA","VCT","SAU","SEN","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA","SDN","SUR","SWZ","SWE","CHE","THA","TGO","TON","TTO","TUN","TUR","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VEN","OWID_WRL","ZMB","ZWE"],"marker":{"color":"#636efa","size":[347,511,1620,30193,1697,498856,151030,160,2690,1952,21,296,101014,94,5055,1012,170636,3023,10027,0,1221165,49606,61435,70408,14635,29,23731,10,3508,150568,200185,101,1360,5015,19955,0,39823,10,71,711557,953970,98,594,1492989,58,80879,0,960,312,53,2100,197627,70119,30017,251924,51425,2532,40473,49626,300254,2778,2014884,1062,1812,199,3268,2172,6493,1080,808,29857,0,856,96457,150,202,1005,102,198,1001258,10,179493,1386,280502,151,1538,8032,19963,249078,151671,4985,977,17213,219691,449,139,2053,61,0,99960,28125,57732,89,0,284827,371307,151903,1001,0,509,10,450483,249299,44515,0,118,1985,1020,47778,588,21932,2521,1098787,24539142,3009,10001,349,27118,44714405,803,870],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1995"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1996\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Barbados","Belarus","Belgium","Belize","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Canada","Central African Republic","Chile","China","Colombia","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kuwait","Latvia","Lebanon","Lesotho","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malaysia","Maldives","Mali","Malta","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BRB","BLR","BEL","BLZ","BEN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","CAN","CAF","CHL","CHN","COL","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KWT","LVA","LBN","LSO","LTU","LUX","MAC","MKD","MDG","MYS","MDV","MLI","MLT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","NOR","OMN","PAK","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TZA","THA","TGO","TON","TTO","TUN","TUR","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[996,511,114,2162,50280,2996,2303,598443,553967,499,4958,4880,1036,2962,303024,1886,103,15132,572,2526,743411,10065,60137,100,49,2002527,201,99089,163519,125569,102,30251,1261,39297,3502,5881,200840,46,300315,201,6021,10067,39913,4900,0,49977,1008,505,861989,1511652,199,0,389,1981,2487416,971,151828,300,2008,2080,158,502,596,2565,296413,100151,40000,453560,113200,9746,80931,119002,585625,15145,5538558,2119,5035,2488,13962,20146,4304,51,9998,22984,2862,1512,514,179128,588,203,4035,2099,191764,301,200,421,1559,494,154,988,1501709,494,298945,3953,102,9781,801774,0,3768,6152,104,992,60182,39971,498699,303823,9974,4858,50539,399434,54,999,522,5114,1009,506,107,297771,42179,100887,993,119,361155,743208,532863,10006,405593,0,1018,495,801190,321259,500,69458,481,158,4946,2556,114523,981,49864,9651,2398181,44135783,5016,60007,998,98,56231,103,77323781,99,852,1934],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1996"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1997\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kuwait","Latvia","Lebanon","Lesotho","Liberia","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["ALB","DZA","AGO","ATG","ARG","ARM","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HND","HKG","HUN","ISL","IND","IDN","IRN","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KWT","LVA","LBN","LSO","LBR","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TZA","THA","TGO","TON","TTO","TUN","TUR","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[1503,3069,856,2706,100457,3498,3023026,765852,1996,3911,9794,930,2091,4938,504859,2856,1548,35249,2230,5040,1317038,15075,100168,1993,488,660,959,4507110,984,502,49,155338,407873,212751,0,103,60405,2908,78393,7514,39019,301442,93,600709,548,11648,13143,59854,14718,226,285,80440,3029,1772,1002462,2500385,480,548,579,2974,5469527,4849,202741,1002,3524,10395,317,193,1003,10309,668622,200248,74937,705842,395330,29321,151775,247754,1301950,20638,11628186,28962,10065,9962,37300,50377,38383,101,106,35027,29998,9493,10078,2057,485,497597,818,1020,15180,103,5489,610260,619,1205,2633,6020,1978,1033,4926,2202023,1976,547902,9871,204,19568,0,902524,9894,35562,15385,5185,4959,100161,100035,799087,506835,49895,16486,100817,698891,106,1499,1001,301,10162,2515,1007,215,491598,63259,150924,1489,240,712524,1663664,1125016,30018,781014,313,4574,889,2104397,1070857,2499,219426,9574,494,14790,4097,285982,2256,99787,88981,4309135,58826128,7526,110012,2499,244,90351,3084,120719713,2465,902,3874],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1997"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1998\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["ALB","DZA","AGO","ATG","ARG","ARM","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TZA","THA","TGO","TON","TTO","TUN","TUR","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[2018,6140,2861,3251,301083,4000,5751305,1240028,2995,6775,19750,4659,5279,7411,807377,4816,3098,50283,5388,10058,2514909,20062,150135,4982,980,1893,1919,7513571,1973,1003,331,247482,2136150,441864,195,104,100452,9686,147030,25082,80789,402193,185,1201529,645,19406,15238,99711,24574,535,283,151830,6068,5067,1314430,3730876,3006,1993,2393,4962,8050374,5815,355380,1504,6854,51948,527,289,2002,1982,18653,941683,400375,99834,1412482,525205,63783,303647,594224,2605356,51672,17052903,64353,20119,14963,503,56053,3485,497,80579,84773,201,105,70109,50016,28702,20178,9265,1933,1493050,1533,2055,25392,1035,29893,1250865,2012,11093,3435,40094,3461,5192,14718,3502435,3953,1197108,14794,307,29366,0,1003358,19427,58122,80108,12432,9919,299973,824175,1581756,1013920,99799,19375,502533,1197831,830,1999,2001,398,395,20167,7523,2000,645,731018,145122,200877,1986,603,1289552,3162187,1757522,55034,1457807,1249,7709,986,2968852,1764551,3000,672161,14298,743,34402,10254,428574,14724,149781,196068,8003083,82919577,10036,230024,5004,488,326199,10260,188144724,3941,3008,9711],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1998"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1999\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","MMR","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PAK","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[2537,61385,11478,4338,1203699,29986,4011,7693499,1855324,7992,11052,30047,46671,6390,49423,1412363,9744,10323,767,80339,7307,19079,3522098,25030,234597,6970,2462,3799,19221,11020176,4945,1503,991,618671,9032277,676024,784,527,150267,19346,196322,34962,105036,704233,463,1628039,740,93120,102087,199323,49248,575,842,203562,8107,7601,1671570,5412783,8034,2990,8557,19873,16985643,19382,762710,2509,13082,67487,5262,1437,29957,5938,36463,1396886,600426,114745,2826612,927107,246307,415014,791625,8221573,62070,27238783,126725,70410,34963,1005,93082,9951,1980,105653,169727,996,310,7047,103160,74988,38562,30312,25768,9639,2787970,3074,6495,30558,3114,54690,1863019,3016,25375,12082,50071,9892,69,6247,34183,6203726,11864,1584314,24644,3080,48970,0,1789602,56726,74957,114001,36227,19834,499084,1092830,2104097,1520320,199389,23181,601238,1497090,5101,2998,3001,496,494,100170,30008,4986,2152,922366,293514,250746,1986,1213,1854732,11075156,2872255,65046,2299787,2340,8835,4922,3676372,2427078,2005,25012,1511710,28489,993,73537,153899,1427699,2011,24563,199818,446512,12509316,99968569,12036,330031,7516,976,682373,102357,281428387,9841,15058,19505],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1999"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2000\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Albania","Algeria","Angola","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of Congo","Denmark","Djibouti","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guam","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Micronesia (country)","Moldova","Mongolia","Morocco","Mozambique","Namibia","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","Saint Lucia","Saint Vincent and the Grenadines","Samoa","Sao Tome and Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sub-Saharan Africa","Sudan","Suriname","Swaziland","Sweden","Switzerland","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Virgin Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","World","Yemen","Zambia","Zimbabwe"],"legendgroup":"","locations":["ALB","DZA","AGO","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","CIV","HRV","CUB","CYP","CZE","COD","DNK","DJI","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","PYF","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GUM","GTM","GIN","GNB","GUY","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","FSM","MDA","MNG","MAR","MOZ","NAM","NPL","NLD","NCL","NZL","NIC","NER","NGA","PRK","NOR","OMN","PSE","PAN","PNG","PRY","PER","PHL","POL","PRT","PRI","QAT","ROU","RUS","RWA","LCA","VCT","WSM","STP","SAU","SEN","SYC","SLE","SGP","SVK","SVN","SLB","SOM","ZAF","KOR","ESP","LKA",null,"SDN","SUR","SWZ","SWE","CHE","TJK","TZA","THA","TGO","TON","TTO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","VIR","URY","UZB","VUT","VEN","VNM","OWID_WRL","YEM","ZMB","ZWE"],"marker":{"color":"#636efa","size":[3562,153332,17270,5418,2608357,39919,14030,8914445,2721778,12002,23831,40899,93475,10723,184805,3026176,14749,15465,2299,120319,40792,50168,5031955,29979,429555,8947,4944,5714,38509,15767452,7929,2005,2979,2533617,22788500,891931,1474,850,227686,38623,294240,60346,143902,1006377,2779,2092276,1396,317219,184654,448283,69085,813,4638,399824,10156,12143,1932433,8528696,15083,14972,11355,22890,24622623,29093,1018260,4130,25028,82992,8406,2861,49804,19772,78543,1854346,715440,124711,5555185,1957942,617797,687024,1255296,13241080,82782,38248371,133869,100673,100031,1507,138043,51244,5918,150657,257300,3958,511,10018,225065,99812,58242,50577,30965,14423,4958180,6179,15634,52018,5203,86297,5168767,4012,53894,30103,200156,19801,31238,48586,7005030,29673,1828377,49273,4117,78404,0,2339671,79843,35817,198633,46542,39645,797253,1545990,2808569,1701394,397720,28806,799648,2894596,5043,7989,3501,989,6429,459035,39928,6002,5397,1409026,508973,300467,1986,1802,2445806,21181681,5573115,121596,3284011,7027,11840,9831,4057813,3375775,3021,40055,2322547,39763,2388,97906,266800,2378894,6019,39356,349785,745361,15811652,121475820,15020,350028,120355,3902,822710,204125,414371966,14747,20122,49064],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2000"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1994\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Belarus","Belgium","Brazil","Bulgaria","Burundi","Canada","Chile","China","Colombia","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Ecuador","Egypt","Eritrea","Estonia","Fiji","Finland","France","Germany","Greece","Grenada","Guam","Guinea","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Ireland","Israel","Italy","Jamaica","Japan","Kazakhstan","Kuwait","Luxembourg","Macao","Malaysia","Maldives","Mexico","Moldova","Nepal","Netherlands","New Zealand","Nicaragua","Norway","Panama","Peru","Philippines","Poland","Portugal","Puerto Rico","Romania","Russia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Sudan","Sweden","Switzerland","Thailand","Togo","Tunisia","Turkey","Ukraine","United Kingdom","United States","United States Virgin Islands","Uruguay","Venezuela","World","Zambia","Zimbabwe"],"legendgroup":"","locations":["DZA","ARG","ARM","AUS","AUT","AZE","BLR","BEL","BRA","BGR","BDI","CAN","CHL","CHN","COL","CRI","HRV","CYP","CZE","DNK","ECU","EGY","ERI","EST","FJI","FIN","FRA","DEU","GRC","GRD","GUM","GIN","HKG","HUN","ISL","IND","IDN","IRN","IRL","ISR","ITA","JAM","JPN","KAZ","KWT","LUX","MAC","MYS","MDV","MEX","MDA","NPL","NLD","NZL","NIC","NOR","PAN","PER","PHL","POL","PRT","PRI","ROU","RUS","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SDN","SWE","CHE","THA","TGO","TUN","TUR","UKR","GBR","USA","VIR","URY","VEN","OWID_WRL","ZMB","ZWE"],"marker":{"color":"#636efa","size":[102,15104,299,399161,110738,110,49,70685,60165,1655,0,690444,19881,14356,39465,9589,12498,929,130471,70056,3900,3989,0,16899,61,250527,521839,746622,40407,0,498,10,168586,50090,18016,10077,2055,244,20251,29807,110097,925,1008107,85,2449,1998,140,19908,0,40023,36,0,500620,114812,595,180283,205,2009,3988,149350,72634,997,6080,79872,0,40123,17081,21384,101772,139570,111369,501,0,300267,189347,22744,0,661,28707,6977,599272,12776546,1003,2000,12055,25348069,603,193],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1994"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1992\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Argentina","Australia","Austria","Belgium","Brazil","Burundi","Canada","Chile","Costa Rica","Cyprus","Denmark","Ecuador","Estonia","Finland","France","Germany","Greece","Grenada","Hong Kong","Hungary","Iceland","India","Ireland","Israel","Italy","Japan","Luxembourg","Malaysia","Maldives","Mexico","Nepal","Netherlands","New Zealand","Norway","Poland","Portugal","Russia","Singapore","South Africa","South Korea","Spain","Sweden","Switzerland","Thailand","Togo","United Kingdom","United States","Venezuela"],"legendgroup":"","locations":["ARG","AUS","AUT","BEL","BRA","BDI","CAN","CHL","CRI","CYP","DNK","ECU","EST","FIN","FRA","DEU","GRC","GRD","HKG","HUN","ISL","IND","IRL","ISR","ITA","JPN","LUX","MYS","MDV","MEX","NPL","NLD","NZL","NOR","POL","PRT","RUS","SGP","ZAF","KOR","ESP","SWE","CHE","THA","TGO","GBR","USA","VEN"],"marker":{"color":"#636efa","size":[1007,309285,50339,10082,20010,0,259995,4997,36,401,20010,548,996,95192,160445,348429,5047,0,50286,5009,4004,1008,6089,14935,40063,121178,600,199,0,15374,0,200191,10017,95142,19908,25067,997,15034,15299,43154,30366,130116,119386,199,0,149839,4439033,2513],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1992"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1993\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Argentina","Australia","Austria","Belgium","Brazil","Bulgaria","Burundi","Canada","Chile","China","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Ecuador","Egypt","Eritrea","Estonia","Fiji","Finland","France","Germany","Greece","Grenada","Hong Kong","Hungary","Iceland","India","Ireland","Israel","Italy","Japan","Kuwait","Luxembourg","Malaysia","Maldives","Mexico","Nepal","Netherlands","New Zealand","Norway","Poland","Portugal","Romania","Russia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sweden","Switzerland","Thailand","Togo","Turkey","Ukraine","United Kingdom","United States","Venezuela","World"],"legendgroup":"","locations":["ARG","AUS","AUT","BEL","BRA","BGR","BDI","CAN","CHL","CHN","CRI","HRV","CYP","CZE","DNK","ECU","EGY","ERI","EST","FJI","FIN","FRA","DEU","GRC","GRD","HKG","HUN","ISL","IND","IRL","ISR","ITA","JPN","KWT","LUX","MYS","MDV","MEX","NPL","NLD","NZL","NOR","POL","PRT","ROU","RUS","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","SWE","CHE","THA","TGO","TUR","UKR","GBR","USA","VEN","OWID_WRL"],"marker":{"color":"#636efa","size":[10072,349259,60402,20181,40066,201,0,340102,9965,2053,2723,4567,462,60219,30020,1796,598,0,4475,50,130267,341052,373319,20194,0,79852,20037,7007,2016,10137,19893,70081,504476,1619,1199,4979,0,25644,0,300335,22499,120179,49769,45264,861,19960,0,25093,6835,8199,45840,110828,50614,150127,149360,7927,0,4792,399,299645,5906809,8843,14073444],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1993"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=1991\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Australia","Austria","Belgium","Botswana","Brazil","Burundi","Canada","Denmark","Finland","France","Germany","Greece","Grenada","Hong Kong","Hungary","Iceland","Ireland","Israel","Italy","Japan","Maldives","Mexico","Nepal","Netherlands","Norway","Poland","Portugal","Singapore","South Africa","South Korea","Spain","Sweden","Switzerland","Thailand","Togo","United Kingdom","United States"],"legendgroup":"","locations":["AUS","AUT","BEL","BWA","BRA","BDI","CAN","DNK","FIN","FRA","DEU","GRC","GRD","HKG","HUN","ISL","IRL","ISR","ITA","JPN","MDV","MEX","NPL","NLD","NOR","POL","PRT","SGP","ZAF","KOR","ESP","SWE","CHE","THA","TGO","GBR","USA"],"marker":{"color":"#636efa","size":[189508,20138,2015,0,4997,0,159962,10003,70139,80198,199129,5046,0,7081,351,1301,2031,9965,20040,50523,0,5120,0,80067,60088,1991,9997,5001,5106,20008,10121,100096,79542,30,0,99903,2965851],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"1991"},{"data":[{"geo":"geo","hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eYear=2017\u003cbr\u003eNumber of internet users (users)=%{marker.size}\u003cbr\u003eCode=%{location}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Australia","Austria","Azerbaijan","Bahrain","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Cambodia","Cameroon","Cape Verde","Chile","China","Colombia","Costa Rica","Cote d'Ivoire","Croatia","Cyprus","Czech Republic","Denmark","Djibouti","Ecuador","Egypt","Estonia","Finland","France","Georgia","Germany","Hong Kong","Hungary","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Japan","Kazakhstan","Kuwait","Latvia","Lithuania","Luxembourg","Macao","Madagascar","Malaysia","Malta","Mexico","Montenegro","Morocco","Netherlands","Niger","Norway","Paraguay","Peru","Poland","Portugal","Romania","Russia","Saint Vincent and the Grenadines","Saudi Arabia","Singapore","Slovakia","Slovenia","South Korea","Spain","Sweden","Switzerland","Thailand","Togo","Tunisia","Turkey","United Arab Emirates"],"legendgroup":"","locations":["AUS","AUT","AZE","BHR","BLR","BEL","BIH","BGR","KHM","CMR","CPV","CHL","CHN","COL","CRI","CIV","HRV","CYP","CZE","DNK","DJI","ECU","EGY","EST","FIN","FRA","GEO","DEU","HKG","HUN","IDN","IRN","IRQ","IRL","ISR","ITA","JPN","KAZ","KWT","LVA","LTU","LUX","MAC","MDG","MYS","MLT","MEX","MNE","MAR","NLD","NER","NOR","PRY","PER","POL","PRT","ROU","RUS","VCT","SAU","SGP","SVK","SVN","KOR","ESP","SWE","CHE","THA","TGO","TUN","TUR","ARE"],"marker":{"color":"#636efa","size":[21160670,7681572,7763795,1431062,7047894,10021205,2437067,4492334,5441827,5581180,312327,14864002,765367947,30548193,3511631,10650799,2810896,952407,8358640,5567241,532863,9521429,43850341,1153818,4831111,52308536,2366455,69300711,6585380,7461350,85249263,49035599,18892351,4024333,6788835,36388297,115848998,13913107,4053797,1585391,2243311,570780,517814,2505948,25343837,344976,82473657,448274,22073555,15877031,2195911,5120147,4160051,15673479,29004155,7622268,12545023,109443932,72048,26375524,4821092,4446690,1640798,48482630,39216797,9554872,7943192,36515273,963813,6400330,52229607,8913210],"sizemode":"area","sizeref":534280.94703125,"symbol":"circle"},"mode":"markers","name":"","showlegend":false,"type":"scattergeo"}],"name":"2017"}]);
                        }).then(function(){
                            
var gd = document.getElementById('0cb574b8-e27c-411b-9cb3-1b9d86e3a3bb');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div></div></div>
</div>
<p>Este gráfico muestra la evolución del número de usuarios de Internet en el mundo a lo largo del tiempo. Las burbujas crecen a medida que aumenta el número de usuarios en cada país.</p>
</section>
<section id="construccion-de-graficos-de-lineas-en-un-mapa-geografico">
<h3><strong>Construcción de gráficos de líneas en un mapa geográfico</strong><a class="headerlink" href="#construccion-de-graficos-de-lineas-en-un-mapa-geografico" title="Link to this heading">#</a></h3>
<p>En este ejemplo, generaremos un gráfico de dispersión para mostrar la ubicación de los aeropuertos de Estados Unidos y luego dibujaremos líneas que representen vuelos retrasados entre los aeropuertos de origen y destino el 1 de enero de 2015.</p>
<ol class="arabic">
<li><p><strong>Cargar y visualizar los aeropuertos de EE.UU.</strong></p>
<p>Cargamos el conjunto de datos de los aeropuertos y creamos un gráfico de dispersión que muestre la ubicación de los aeropuertos en EE.UU.</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="c1"># Cargar los datos de los aeropuertos de EE.UU.</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/airports.csv&quot;</span>
<span class="n">df_air</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="c1"># Crear un gráfico de dispersión para mostrar los aeropuertos</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scattergeo</span><span class="p">(</span>
    <span class="n">locationmode</span><span class="o">=</span><span class="s1">&#39;USA-states&#39;</span><span class="p">,</span>
    <span class="n">lon</span><span class="o">=</span><span class="c1"># TU CODIGO,  # Longitudes de los aeropuertos</span>
    <span class="n">lat</span><span class="o">=</span><span class="c1"># TU CODIGO,  # Latitudes de los aeropuertos</span>
    <span class="n">hoverinfo</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span>  <span class="c1"># Información al pasar el cursor</span>
    <span class="n">text</span><span class="o">=</span><span class="n">df_air</span><span class="p">[</span><span class="s1">&#39;AIRPORT&#39;</span><span class="p">],</span>  <span class="c1"># Nombre del aeropuerto</span>
    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span><span class="p">,</span>  <span class="c1"># Modo marcador</span>
    <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>  <span class="c1"># Configurar los marcadores</span>
<span class="p">))</span>

<span class="c1"># Actualizar el diseño del gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Aeropuertos en EE.UU.&#39;</span><span class="p">,</span>  <span class="c1"># Título del gráfico</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Ocultar leyenda</span>
    <span class="n">geo</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">Geo</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s1">&#39;usa&#39;</span><span class="p">)</span>  <span class="c1"># Limitar el gráfico a EE.UU.</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic" start="2">
<li><p><strong>Cargar y fusionar los datos de vuelos</strong></p>
<p>A continuación, cargamos los datos de vuelos retrasados el 1 de enero de 2015, y combinamos estos datos con la información de los aeropuertos para obtener las latitudes y longitudes de los aeropuertos de origen y destino.</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cargar los datos de vuelos retrasados del 1 de enero de 2015</span>
<span class="n">filename</span><span class="o">=</span> <span class="s2">&quot;C:/Users/cdeor/OneDrive/Documentos/MachineLearningDipSerfinanzas/jbook_ml202430/docs/_data/dataviz/new_year_day_2015_delayed_flights.csv&quot;</span>
<span class="n">new_year_2015_flights_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="c1"># Fusionar los datos de vuelos con los aeropuertos de origen para obtener latitud y longitud</span>
<span class="n">new_year_2015_flights_df</span> <span class="o">=</span> <span class="n">new_year_2015_flights_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">df_air</span><span class="p">[[</span><span class="s1">&#39;IATA_CODE&#39;</span><span class="p">,</span> <span class="s1">&#39;LATITUDE&#39;</span><span class="p">,</span> <span class="s1">&#39;LONGITUDE&#39;</span><span class="p">]],</span>
    <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;ORIGIN_AIRPORT&#39;</span><span class="p">,</span>
    <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;IATA_CODE&#39;</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span>
<span class="p">)</span>

<span class="c1"># Renombrar las columnas para reflejar que son del aeropuerto de origen</span>
<span class="n">new_year_2015_flights_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;LATITUDE&#39;</span><span class="p">:</span> <span class="s1">&#39;ORIGIN_AIRPORT_LATITUDE&#39;</span><span class="p">,</span> <span class="s1">&#39;LONGITUDE&#39;</span><span class="p">:</span> <span class="s1">&#39;ORIGIN_AIRPORT_LONGITUDE&#39;</span><span class="p">},</span>
    <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Fusionar los datos de vuelos con los aeropuertos de destino</span>
<span class="n">new_year_2015_flights_df</span> <span class="o">=</span> <span class="n">new_year_2015_flights_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">df_air</span><span class="p">[[</span><span class="s1">&#39;IATA_CODE&#39;</span><span class="p">,</span> <span class="s1">&#39;LATITUDE&#39;</span><span class="p">,</span> <span class="s1">&#39;LONGITUDE&#39;</span><span class="p">]],</span>
    <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;DESTINATION_AIRPORT&#39;</span><span class="p">,</span>
    <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;IATA_CODE&#39;</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span>
<span class="p">)</span>

<span class="c1"># Renombrar las columnas para reflejar que son del aeropuerto de destino</span>
<span class="n">new_year_2015_flights_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;LATITUDE&#39;</span><span class="p">:</span> <span class="s1">&#39;DESTINATION_AIRPORT_LATITUDE&#39;</span><span class="p">,</span> <span class="s1">&#39;LONGITUDE&#39;</span><span class="p">:</span> <span class="s1">&#39;DESTINATION_AIRPORT_LONGITUDE&#39;</span><span class="p">},</span>
    <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Este código fusiona los datos de vuelos con las latitudes y longitudes de los aeropuertos de origen y destino.</p>
<ol class="arabic" start="3">
<li><p><strong>Trazar las líneas que representan los vuelos retrasados</strong></p>
<p>Ahora dibujaremos líneas que representen los vuelos retrasados entre los aeropuertos de origen y destino.</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dibujar líneas para los vuelos retrasados entre los aeropuertos de origen y destino</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">new_year_2015_flights_df</span><span class="p">)):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scattergeo</span><span class="p">(</span>
        <span class="n">locationmode</span><span class="o">=</span><span class="s1">&#39;USA-states&#39;</span><span class="p">,</span>
        <span class="n">lon</span><span class="o">=</span><span class="p">[</span><span class="n">new_year_2015_flights_df</span><span class="p">[</span><span class="s1">&#39;ORIGIN_AIRPORT_LONGITUDE&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">new_year_2015_flights_df</span><span class="p">[</span><span class="s1">&#39;DESTINATION_AIRPORT_LONGITUDE&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]],</span>  <span class="c1"># Longitudes de origen y destino</span>
        <span class="n">lat</span><span class="o">=</span><span class="p">[</span><span class="n">new_year_2015_flights_df</span><span class="p">[</span><span class="s1">&#39;ORIGIN_AIRPORT_LATITUDE&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">new_year_2015_flights_df</span><span class="p">[</span><span class="s1">&#39;DESTINATION_AIRPORT_LATITUDE&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]],</span>  <span class="c1"># Latitudes de origen y destino</span>
        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span>  <span class="c1"># Dibujar líneas en lugar de marcadores</span>
        <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>  <span class="c1"># Configurar el estilo de la línea (color y ancho)</span>
    <span class="p">))</span>

<span class="c1"># Actualizar el diseño del gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;Vuelos retrasados el 1 de enero de 2015 en EE.UU.&#39;</span><span class="p">,</span>  <span class="c1"># Título del gráfico</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Ocultar la leyenda</span>
    <span class="n">geo</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">Geo</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s1">&#39;usa&#39;</span><span class="p">)</span>  <span class="c1"># Limitar el gráfico a EE.UU.</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-faltantes-y-atipicos"><strong>Tratamiento de datos faltantes y atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminacion-de-datos-faltantes"><strong>Eliminación de datos faltantes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-faltantes"><strong>Imputación de datos faltantes</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-categoricos"><strong>Datos categóricos</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#datos-numericos"><strong>Datos numéricos</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-atipicos"><strong>Tratamiento de datos atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-valores-atipicos"><strong>Detección de valores atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-valores-atipicos-mediante-el-rango-intercuantil-iqr"><strong>Detección de valores atípicos mediante el rango intercuantil (IQR)</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento"><strong>Tratamiento</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminacion-de-datos-atipicos"><strong>Eliminación de datos atípicos</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-atipicos"><strong>Imputación de datos atípicos</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-interactiva"><strong>Visualización interactiva</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aspecto-claves-de-las-visualizaciones-interactivas"><strong>Aspecto claves de las visualizaciones interactivas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preparacion-de-nuestro-dataset"><strong>Preparación de nuestro dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creacion-del-grafico-estatico-con-visualizacion-interactiva"><strong>Creación del gráfico estático con visualización interactiva</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anadiendo-la-herramienta-hover"><strong>Añadiendo la herramienta Hover</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anadiendo-un-slicer-al-grafico-estatico"><strong>Añadiendo un slicer al gráfico estático</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-datos-a-traves-de-capas"><strong>Visualización de datos a través de capas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcionalidad-hover-y-tooltip"><strong>Funcionalidad Hover y Tooltip</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-a-traves-de-multiples-parcelas"><strong>Selección a través de múltiples parcelas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-de-los-valores-de-una-variable-categorica"><strong>Selección de los valores de una variable categórica</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-de-zoom-en-un-mapa-de-calor-estatico"><strong>Función de zoom en un mapa de calor estático</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dinamica-de-un-grafico-de-barras-y-un-mapa-de-calor"><strong>Dinámica de un gráfico de barras y un mapa de calor</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-interactiva-de-mapas-con-datos-geograficos"><strong>Visualización interactiva de mapas con datos geográficos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creacion-de-un-mapa-coropletico"><strong>Creación de un mapa coroplético</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ajuste-de-un-mapa-coropletico-mundial"><strong>Ajuste de un mapa coroplético mundial</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anadiendo-animacion-a-un-mapa-coropletico"><strong>Añadiendo animación a un mapa coroplético</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mapas-coropleticos-con-graph-objects"><strong>Mapas coropléticos con <code class="docutils literal notranslate"><span class="pre">graph_objects</span></code></strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-un-grafico-de-gispersion-en-un-mapa-geografico"><strong>Construcción de un gráfico de gispersión en un mapa geográfico</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-un-grafico-de-burbujas-en-un-mapa-geografico"><strong>Construcción de un gráfico de burbujas en un mapa geográfico</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-un-grafico-de-burbujas-con-animacion-del-crecimiento-de-usuarios-de-internet"><strong>Construcción de un gráfico de burbujas con animación del crecimiento de usuarios de internet</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-graficos-de-lineas-en-un-mapa-geografico"><strong>Construcción de gráficos de líneas en un mapa geográfico</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Carlos de Oro Aguado
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>